{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { eventsMap } from './utils/events-map';\nimport { debounce } from './utils/debounce';\nimport { toCamel } from './utils/strings';\n\nvar reactPropFromEventName = function (evtName) {\n  return eventsMap[evtName] || evtName;\n};\n\nvar FoundationElement =\n/** @class */\nfunction () {\n  function FoundationElement(onChange) {\n    this._classes = new Set();\n    this._events = {};\n    this._style = {};\n    this._props = {};\n    this._ref = null;\n    this._onChange = null;\n    this._onChange = onChange;\n    this.onChange = this.onChange.bind(this);\n    this.addClass = this.addClass.bind(this);\n    this.removeClass = this.removeClass.bind(this);\n    this.hasClass = this.hasClass.bind(this);\n    this.setProp = this.setProp.bind(this);\n    this.getProp = this.getProp.bind(this);\n    this.removeProp = this.removeProp.bind(this);\n    this.setStyle = this.setStyle.bind(this);\n    this.addEventListener = this.addEventListener.bind(this);\n    this.removeEventListener = this.removeEventListener.bind(this);\n    this.setRef = this.setRef.bind(this);\n  }\n\n  FoundationElement.prototype.onChange = function () {\n    this._onChange && this._onChange();\n  };\n\n  FoundationElement.prototype.destroy = function () {\n    this._onChange = null;\n    this._ref = null;\n    this._events = {};\n    this._style = {};\n    this._props = {};\n    this._classes = new Set();\n  };\n  /**************************************************\n   * Classes\n   **************************************************/\n\n\n  FoundationElement.prototype.addClass = function (className) {\n    if (!this._classes.has(className)) {\n      this._classes.add(className);\n\n      this.onChange();\n    }\n  };\n\n  FoundationElement.prototype.removeClass = function (className) {\n    if (this._classes.has(className)) {\n      this._classes.delete(className);\n\n      this.onChange();\n    }\n  };\n\n  FoundationElement.prototype.hasClass = function (className) {\n    return this._classes.has(className);\n  };\n  /**************************************************\n   * Props\n   **************************************************/\n\n\n  FoundationElement.prototype.setProp = function (propName, value) {\n    if (this._props[propName] !== value) {\n      this._props[propName] = value;\n      this.onChange();\n    }\n  };\n\n  FoundationElement.prototype.getProp = function (propName) {\n    return this._props[propName];\n  };\n\n  FoundationElement.prototype.removeProp = function (propName) {\n    if (this._props[propName] !== undefined) {\n      delete this._props[propName];\n      this.onChange();\n    }\n  };\n\n  FoundationElement.prototype.props = function (propsToMerge) {\n    var _this = this;\n\n    var _a = propsToMerge.className,\n        className = _a === void 0 ? '' : _a,\n        _b = propsToMerge.style,\n        style = _b === void 0 ? {} : _b; // handle merging events\n    // the foundation should be able to pass something onClick as well as a user\n    // This wraps them in a function that calls both\n\n    var mergedEvents = Object.entries(propsToMerge).reduce(function (acc, _a) {\n      var _b = __read(_a, 2),\n          key = _b[0],\n          possibleCallback = _b[1];\n\n      var existingCallback = _this._events[key];\n\n      if (typeof possibleCallback === 'function' && typeof existingCallback === 'function') {\n        var wrappedCallback = function (evt) {\n          existingCallback(evt);\n          return possibleCallback(evt);\n        };\n\n        acc[key] = wrappedCallback;\n      }\n\n      return acc;\n    }, __assign({}, this._events)); // handle className\n\n    var mergedClasses = classNames(className, __spread(this._classes)); // handle styles\n\n    var mergedStyles = __assign({}, this._style, style);\n\n    return __assign({}, propsToMerge, this._props, mergedEvents, {\n      style: mergedStyles,\n      className: mergedClasses\n    });\n  };\n  /**************************************************\n   * Styles\n   **************************************************/\n\n\n  FoundationElement.prototype.setStyle = function (propertyName, value) {\n    propertyName = propertyName.startsWith('--') ? propertyName : toCamel(propertyName);\n\n    if (this._style[propertyName] !== value) {\n      this._style[propertyName] = value;\n      this.onChange();\n    }\n  };\n  /**************************************************\n   * Events\n   **************************************************/\n\n\n  FoundationElement.prototype.addEventListener = function (evtName, callback) {\n    var propName = reactPropFromEventName(evtName);\n\n    if (this._events[propName] !== callback) {\n      this._events[propName] = callback;\n      this.onChange();\n    }\n  };\n\n  FoundationElement.prototype.removeEventListener = function (evtName, callback) {\n    var propName = reactPropFromEventName(evtName);\n\n    if (this._events[propName]) {\n      delete this._events[propName];\n      this.onChange();\n    }\n  };\n  /**************************************************\n   * Refs\n   **************************************************/\n\n\n  FoundationElement.prototype.setRef = function (el) {\n    if (el) {\n      this._ref = el;\n    }\n  };\n\n  Object.defineProperty(FoundationElement.prototype, \"ref\", {\n    get: function () {\n      return this._ref;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return FoundationElement;\n}();\n\nexport { FoundationElement };\n\nvar FoundationComponent =\n/** @class */\nfunction (_super) {\n  __extends(FoundationComponent, _super);\n\n  function FoundationComponent(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.elements = {}; //@ts-ignore\n\n    if (_this.constructor.shouldDebounce) {\n      _this.update = debounce(_this.update.bind(_this), 0);\n    } else {\n      _this.update = _this.update.bind(_this);\n    }\n\n    return _this;\n  }\n\n  FoundationComponent.prototype.componentDidMount = function () {\n    this.foundation = this.getDefaultFoundation();\n    this.foundation.init();\n    this.sync(this.props, {});\n  };\n\n  FoundationComponent.prototype.componentDidUpdate = function (prevProps) {\n    this.sync(this.props, prevProps);\n  };\n\n  FoundationComponent.prototype.componentWillUnmount = function () {\n    this.foundation && this.foundation.destroy(); // @ts-ignore\n\n    this.foundation = undefined;\n    Object.values(this.elements).forEach(function (el) {\n      return el.destroy();\n    });\n  };\n\n  FoundationComponent.prototype.createElement = function (elementName) {\n    var el = new FoundationElement(this.update);\n    this.elements[elementName] = el;\n    return el;\n  };\n\n  FoundationComponent.prototype.update = function () {\n    this.foundation && this.setState({});\n  };\n\n  FoundationComponent.prototype.sync = function (props, prevProps) {};\n\n  FoundationComponent.prototype.syncProp = function (prop, prevProp, callback) {\n    if ((prop !== undefined || prevProp !== undefined && prop === undefined) && prop !== prevProp) {\n      callback();\n    }\n  };\n\n  FoundationComponent.prototype.getDefaultFoundation = function () {\n    return {\n      init: function () {},\n      destroy: function () {}\n    };\n  };\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   */\n\n\n  FoundationComponent.prototype.emit = function (evtType, evtData, shouldBubble) {\n    if (shouldBubble === void 0) {\n      shouldBubble = false;\n    }\n\n    var evt;\n    evt = new CustomEvent(evtType, {\n      detail: evtData,\n      bubbles: shouldBubble\n    }); // bugfix for events coming from form elements\n    // and also fits with reacts form pattern better...\n    // This should always otherwise be null since there is no target\n    // for Custom Events\n\n    Object.defineProperty(evt, 'target', {\n      value: evtData,\n      writable: false\n    });\n    Object.defineProperty(evt, 'currentTarget', {\n      value: evtData,\n      writable: false\n    }); // Custom handling for React\n\n    var propName = evtType; // check to see if the foundation still exists. If not, we are\n    // probably unmounted or destroyed and dont want to call any more handlers\n    // This happens when MDC broadcasts certain events on timers\n\n    if (this.foundation) {\n      //@ts-ignore\n      this.props[propName] && this.props[propName](evt);\n    }\n\n    return evt;\n  };\n\n  FoundationComponent.shouldDebounce = false;\n  return FoundationComponent;\n}(React.Component);\n\nexport { FoundationComponent };","map":{"version":3,"sources":["/Users/alexlipnik/Documents/ec2/basic-store/node_modules/@rmwc/base/next/foundation-component.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","__spread","concat","React","classNames","eventsMap","debounce","toCamel","reactPropFromEventName","evtName","FoundationElement","onChange","_classes","Set","_events","_style","_props","_ref","_onChange","bind","addClass","removeClass","hasClass","setProp","getProp","removeProp","setStyle","addEventListener","removeEventListener","setRef","destroy","className","has","add","delete","propName","undefined","props","propsToMerge","_this","_a","_b","style","mergedEvents","entries","reduce","acc","key","possibleCallback","existingCallback","wrappedCallback","evt","mergedClasses","mergedStyles","propertyName","startsWith","callback","el","defineProperty","get","enumerable","configurable","FoundationComponent","_super","elements","shouldDebounce","update","componentDidMount","foundation","getDefaultFoundation","init","sync","componentDidUpdate","prevProps","componentWillUnmount","values","forEach","createElement","elementName","setState","syncProp","prop","prevProp","emit","evtType","evtData","shouldBubble","CustomEvent","detail","bubbles","writable","Component"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { eventsMap } from './utils/events-map';\nimport { debounce } from './utils/debounce';\nimport { toCamel } from './utils/strings';\nvar reactPropFromEventName = function (evtName) {\n    return eventsMap[evtName] || evtName;\n};\nvar FoundationElement = /** @class */ (function () {\n    function FoundationElement(onChange) {\n        this._classes = new Set();\n        this._events = {};\n        this._style = {};\n        this._props = {};\n        this._ref = null;\n        this._onChange = null;\n        this._onChange = onChange;\n        this.onChange = this.onChange.bind(this);\n        this.addClass = this.addClass.bind(this);\n        this.removeClass = this.removeClass.bind(this);\n        this.hasClass = this.hasClass.bind(this);\n        this.setProp = this.setProp.bind(this);\n        this.getProp = this.getProp.bind(this);\n        this.removeProp = this.removeProp.bind(this);\n        this.setStyle = this.setStyle.bind(this);\n        this.addEventListener = this.addEventListener.bind(this);\n        this.removeEventListener = this.removeEventListener.bind(this);\n        this.setRef = this.setRef.bind(this);\n    }\n    FoundationElement.prototype.onChange = function () {\n        this._onChange && this._onChange();\n    };\n    FoundationElement.prototype.destroy = function () {\n        this._onChange = null;\n        this._ref = null;\n        this._events = {};\n        this._style = {};\n        this._props = {};\n        this._classes = new Set();\n    };\n    /**************************************************\n     * Classes\n     **************************************************/\n    FoundationElement.prototype.addClass = function (className) {\n        if (!this._classes.has(className)) {\n            this._classes.add(className);\n            this.onChange();\n        }\n    };\n    FoundationElement.prototype.removeClass = function (className) {\n        if (this._classes.has(className)) {\n            this._classes.delete(className);\n            this.onChange();\n        }\n    };\n    FoundationElement.prototype.hasClass = function (className) {\n        return this._classes.has(className);\n    };\n    /**************************************************\n     * Props\n     **************************************************/\n    FoundationElement.prototype.setProp = function (propName, value) {\n        if (this._props[propName] !== value) {\n            this._props[propName] = value;\n            this.onChange();\n        }\n    };\n    FoundationElement.prototype.getProp = function (propName) {\n        return this._props[propName];\n    };\n    FoundationElement.prototype.removeProp = function (propName) {\n        if (this._props[propName] !== undefined) {\n            delete this._props[propName];\n            this.onChange();\n        }\n    };\n    FoundationElement.prototype.props = function (propsToMerge) {\n        var _this = this;\n        var _a = propsToMerge.className, className = _a === void 0 ? '' : _a, _b = propsToMerge.style, style = _b === void 0 ? {} : _b;\n        // handle merging events\n        // the foundation should be able to pass something onClick as well as a user\n        // This wraps them in a function that calls both\n        var mergedEvents = Object.entries(propsToMerge).reduce(function (acc, _a) {\n            var _b = __read(_a, 2), key = _b[0], possibleCallback = _b[1];\n            var existingCallback = _this._events[key];\n            if (typeof possibleCallback === 'function' &&\n                typeof existingCallback === 'function') {\n                var wrappedCallback = function (evt) {\n                    existingCallback(evt);\n                    return possibleCallback(evt);\n                };\n                acc[key] = wrappedCallback;\n            }\n            return acc;\n        }, __assign({}, this._events));\n        // handle className\n        var mergedClasses = classNames(className, __spread(this._classes));\n        // handle styles\n        var mergedStyles = __assign({}, this._style, style);\n        return __assign({}, propsToMerge, this._props, mergedEvents, { style: mergedStyles, className: mergedClasses });\n    };\n    /**************************************************\n     * Styles\n     **************************************************/\n    FoundationElement.prototype.setStyle = function (propertyName, value) {\n        propertyName = propertyName.startsWith('--')\n            ? propertyName\n            : toCamel(propertyName);\n        if (this._style[propertyName] !== value) {\n            this._style[propertyName] = value;\n            this.onChange();\n        }\n    };\n    /**************************************************\n     * Events\n     **************************************************/\n    FoundationElement.prototype.addEventListener = function (evtName, callback) {\n        var propName = reactPropFromEventName(evtName);\n        if (this._events[propName] !== callback) {\n            this._events[propName] = callback;\n            this.onChange();\n        }\n    };\n    FoundationElement.prototype.removeEventListener = function (evtName, callback) {\n        var propName = reactPropFromEventName(evtName);\n        if (this._events[propName]) {\n            delete this._events[propName];\n            this.onChange();\n        }\n    };\n    /**************************************************\n     * Refs\n     **************************************************/\n    FoundationElement.prototype.setRef = function (el) {\n        if (el) {\n            this._ref = el;\n        }\n    };\n    Object.defineProperty(FoundationElement.prototype, \"ref\", {\n        get: function () {\n            return this._ref;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return FoundationElement;\n}());\nexport { FoundationElement };\nvar FoundationComponent = /** @class */ (function (_super) {\n    __extends(FoundationComponent, _super);\n    function FoundationComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.elements = {};\n        //@ts-ignore\n        if (_this.constructor.shouldDebounce) {\n            _this.update = debounce(_this.update.bind(_this), 0);\n        }\n        else {\n            _this.update = _this.update.bind(_this);\n        }\n        return _this;\n    }\n    FoundationComponent.prototype.componentDidMount = function () {\n        this.foundation = this.getDefaultFoundation();\n        this.foundation.init();\n        this.sync(this.props, {});\n    };\n    FoundationComponent.prototype.componentDidUpdate = function (prevProps) {\n        this.sync(this.props, prevProps);\n    };\n    FoundationComponent.prototype.componentWillUnmount = function () {\n        this.foundation && this.foundation.destroy();\n        // @ts-ignore\n        this.foundation = undefined;\n        Object.values(this.elements).forEach(function (el) { return el.destroy(); });\n    };\n    FoundationComponent.prototype.createElement = function (elementName) {\n        var el = new FoundationElement(this.update);\n        this.elements[elementName] = el;\n        return el;\n    };\n    FoundationComponent.prototype.update = function () {\n        this.foundation && this.setState({});\n    };\n    FoundationComponent.prototype.sync = function (props, prevProps) { };\n    FoundationComponent.prototype.syncProp = function (prop, prevProp, callback) {\n        if ((prop !== undefined || (prevProp !== undefined && prop === undefined)) &&\n            prop !== prevProp) {\n            callback();\n        }\n    };\n    FoundationComponent.prototype.getDefaultFoundation = function () {\n        return {\n            init: function () { },\n            destroy: function () { }\n        };\n    };\n    /**\n     * Fires a cross-browser-compatible custom event from the component root of the given type,\n     */\n    FoundationComponent.prototype.emit = function (evtType, evtData, shouldBubble) {\n        if (shouldBubble === void 0) { shouldBubble = false; }\n        var evt;\n        evt = new CustomEvent(evtType, {\n            detail: evtData,\n            bubbles: shouldBubble\n        });\n        // bugfix for events coming from form elements\n        // and also fits with reacts form pattern better...\n        // This should always otherwise be null since there is no target\n        // for Custom Events\n        Object.defineProperty(evt, 'target', {\n            value: evtData,\n            writable: false\n        });\n        Object.defineProperty(evt, 'currentTarget', {\n            value: evtData,\n            writable: false\n        });\n        // Custom handling for React\n        var propName = evtType;\n        // check to see if the foundation still exists. If not, we are\n        // probably unmounted or destroyed and dont want to call any more handlers\n        // This happens when MDC broadcasts certain events on timers\n        if (this.foundation) {\n            //@ts-ignore\n            this.props[propName] && this.props[propName](evt);\n        }\n        return evt;\n    };\n    FoundationComponent.shouldDebounce = false;\n    return FoundationComponent;\n}(React.Component));\nexport { FoundationComponent };\n"]},"metadata":{},"sourceType":"module"}