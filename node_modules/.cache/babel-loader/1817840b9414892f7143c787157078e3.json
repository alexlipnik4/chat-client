{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { deprecationWarning } from '@rmwc/base';\nimport { MDCSelectFoundation, MDCSelectIconFoundation } from '@material/select';\nimport { componentFactory, FoundationComponent, randomId } from '@rmwc/base';\nimport { FloatingLabel } from '@rmwc/floating-label';\nimport { LineRipple } from '@rmwc/line-ripple';\nimport { Icon } from '@rmwc/icon';\nimport { NotchedOutline } from '@rmwc/notched-outline';\nimport { Menu, MenuItem, MenuItems } from '@rmwc/menu';\nimport { ListGroup, ListGroupSubheader, ListDivider } from '@rmwc/list';\nimport { withRipple } from '@rmwc/ripple';\n/**\n * Takes multiple structures for options and returns [{label: 'label', value: 'value', ...rest}]\n */\n\nvar createSelectOptions = function (options) {\n  // preformatted array\n  if (Array.isArray(options) && options[0] && typeof options[0] === 'object') {\n    return options.map(function (opt) {\n      if (typeof opt !== 'object') {\n        throw new Error(\"Encountered non object for Select \" + opt);\n      }\n\n      return __assign({}, opt, {\n        options: createSelectOptions(opt.options)\n      });\n    });\n  } // simple array\n\n\n  if (Array.isArray(options)) {\n    return options.map(function (value) {\n      return {\n        value: value,\n        label: value\n      };\n    });\n  } // value => label objects\n\n\n  if (typeof options === 'object') {\n    return Object.keys(options).map(function (value) {\n      return {\n        value: value,\n        label: options[value]\n      };\n    });\n  } // default, just return\n\n\n  return options;\n};\n\nvar SelectRoot = withRipple()(componentFactory({\n  displayName: 'SelectRoot',\n  defaultProps: {\n    role: 'listbox'\n  },\n  classNames: function (props) {\n    return ['mdc-select', {\n      'mdc-select--outlined': !!props.outlined,\n      'mdc-select--required': !!props.required,\n      'mdc-select--invalid': !!props.invalid,\n      'mdc-select--with-leading-icon': !!props.icon\n    }];\n  },\n  consumeProps: ['outlined', 'icon', 'required', 'invalid']\n}));\n\nvar SelectDropdownArrow =\n/** @class */\nfunction (_super) {\n  __extends(SelectDropdownArrow, _super);\n\n  function SelectDropdownArrow() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SelectDropdownArrow.prototype.shouldComponentUpdate = function () {\n    return false;\n  };\n\n  SelectDropdownArrow.prototype.render = function () {\n    return React.createElement(\"i\", {\n      className: \"mdc-select__dropdown-icon\"\n    });\n  };\n\n  return SelectDropdownArrow;\n}(React.Component);\n\nvar SelectNativeControl =\n/** @class */\nfunction (_super) {\n  __extends(SelectNativeControl, _super);\n\n  function SelectNativeControl() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SelectNativeControl.prototype.render = function () {\n    var _a = this.props,\n        selectOptions = _a.selectOptions,\n        placeholder = _a.placeholder,\n        children = _a.children,\n        elementRef = _a.elementRef,\n        rest = __rest(_a, [\"selectOptions\", \"placeholder\", \"children\", \"elementRef\"]);\n\n    return React.createElement(\"select\", __assign({\n      tabIndex: 0\n    }, rest, {\n      ref: elementRef,\n      className: \"mdc-select__native-control \" + (rest.className || '')\n    }), placeholder != undefined && React.createElement(\"option\", {\n      value: \"\",\n      disabled: rest.required\n    }, placeholder), !!selectOptions && selectOptions.map(function (_a, i) {\n      var label = _a.label,\n          options = _a.options,\n          option = __rest(_a, [\"label\", \"options\"]);\n\n      if (options) {\n        return React.createElement(\"optgroup\", {\n          label: label,\n          key: label\n        }, options.map(function (_a, i) {\n          var label = _a.label,\n              option = __rest(_a, [\"label\"]);\n\n          return React.createElement(\"option\", __assign({\n            key: label + \"-\" + option.value\n          }, option, {\n            value: option.value\n          }), label);\n        }));\n      }\n\n      return React.createElement(\"option\", __assign({\n        key: label + \"-\" + option.value\n      }, option, {\n        value: option.value\n      }), label);\n    }), children);\n  };\n\n  SelectNativeControl.displayName = 'SelectNativeControl';\n  return SelectNativeControl;\n}(React.Component); // eslint-disable-next-line\n\n\nvar SelectEnhancedControl =\n/** @class */\nfunction (_super) {\n  __extends(SelectEnhancedControl, _super);\n\n  function SelectEnhancedControl() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SelectEnhancedControl.prototype.render = function () {\n    var _a = this.props,\n        selectOptions = _a.selectOptions,\n        apiRef = _a.apiRef,\n        selectedIndex = _a.selectedIndex,\n        placeholder = _a.placeholder,\n        children = _a.children,\n        rest = __rest(_a, [\"selectOptions\", \"apiRef\", \"selectedIndex\", \"placeholder\", \"children\"]);\n\n    var currentIndex = 0;\n    var showPlaceholder = (placeholder !== undefined || this.props.value === undefined && this.props.defaultValue === undefined) && currentIndex++ === 0;\n    return React.createElement(Menu, __assign({}, rest, {\n      ref: apiRef,\n      className: \"mdc-select__menu\"\n    }), showPlaceholder && React.createElement(MenuItem, {\n      selected: currentIndex - 1 === selectedIndex,\n      \"data-value\": \"\"\n    }, placeholder), selectOptions.map(function (_a, i) {\n      var label = _a.label,\n          options = _a.options,\n          option = __rest(_a, [\"label\", \"options\"]);\n\n      if (options) {\n        return React.createElement(ListGroup, {\n          key: label\n        }, React.createElement(ListGroupSubheader, {\n          theme: \"textDisabledOnBackground\"\n        }, label), React.createElement(MenuItems, null, options.map(function (_a, i) {\n          var label = _a.label,\n              option = __rest(_a, [\"label\"]);\n\n          currentIndex += 1;\n          return React.createElement(MenuItem, __assign({\n            key: label + \"-\" + option.value,\n            activated: currentIndex - 1 === selectedIndex\n          }, option, {\n            \"data-value\": option.value\n          }), label);\n        })), i < selectOptions.length - 1 && React.createElement(ListDivider, null));\n      }\n\n      currentIndex += 1;\n      return React.createElement(MenuItem, __assign({\n        key: label + \"-\" + option.value,\n        activated: currentIndex - 1 === selectedIndex\n      }, option, {\n        \"data-value\": option.value\n      }), label);\n    }), children);\n  };\n\n  return SelectEnhancedControl;\n}(React.Component);\n\nvar SelectBase =\n/** @class */\nfunction (_super) {\n  __extends(SelectBase, _super);\n\n  function SelectBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.root = _this.createElement('root');\n    _this.lineRipple = _this.createElement('lineRipple');\n    _this.outline = _this.createElement('outline');\n    _this.label = _this.createElement('label');\n    _this.id = _this.props.id || randomId('select');\n    _this.nativeControl = null;\n    _this.selectedText = null;\n    _this.menuElement = null;\n    _this.menu = null;\n    _this.hiddenInput_ = null;\n    _this.leadingIcon_ = null;\n    _this.trailingIcon_ = null;\n    _this.state = {\n      selectedIndex: _this.props.placeholder !== undefined ? 0 : -1,\n      menuOpen: false,\n      selectedTextContent: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.handleClick = _this.handleClick.bind(_this);\n    _this.handleKeydown = _this.handleKeydown.bind(_this);\n    _this.handleMenuSelected = _this.handleMenuSelected.bind(_this);\n    _this.handleMenuOpened = _this.handleMenuOpened.bind(_this);\n    _this.handleMenuClosed = _this.handleMenuClosed.bind(_this);\n    return _this;\n  }\n\n  SelectBase.prototype.componentDidMount = function () {\n    _super.prototype.componentDidMount.call(this);\n\n    var _a = this.props,\n        enhanced = _a.enhanced,\n        value = _a.value;\n\n    if (this.menu) {\n      this.menuElement = this.root.ref && this.root.ref.querySelector('.mdc-select__menu'); // tried to replace this with the hoistToBody prop and it made the placeholders\n      // disappear... likely a timing issue. Leaving this for now\n\n      this.menu.hoistMenuToBody();\n      this.root.ref && this.menu.setAnchorElement(this.root.ref); //this.menu.wrapFocus = false;\n\n      if (this.hiddenInput_ && this.hiddenInput_.value) {\n        // If the hidden input already has a value, use it to restore the select's value.\n        // This can happen e.g. if the user goes back or (in some browsers) refreshes the page.\n        var enhancedAdapterMethods = this.getEnhancedSelectAdapterMethods_();\n        enhancedAdapterMethods.setValue(this.hiddenInput_ ? this.hiddenInput_.value : '');\n      } else if (enhanced) {\n        // If an element is selected, the select should set the initial selected text.\n        this.getEnhancedSelectAdapterMethods_().setValue(value || '');\n      }\n    } // Initially sync floating label\n\n\n    this.foundation.handleChange(false);\n\n    if (this.props.disabled) {\n      this.foundation.setDisabled(true);\n    }\n\n    if (this.nativeControl && document.activeElement === this.nativeControl) {\n      this.foundation.handleFocus();\n    }\n  };\n\n  SelectBase.prototype.getDefaultFoundation = function () {\n    return new MDCSelectFoundation(__assign({}, this.props.enhanced ? this.getEnhancedSelectAdapterMethods_() : this.getNativeSelectAdapterMethods_(), this.getCommonAdapterMethods_(), this.getOutlineAdapterMethods_(), this.getLabelAdapterMethods_()), this.getFoundationMap_());\n  };\n\n  SelectBase.prototype.getNativeSelectAdapterMethods_ = function () {\n    var _this = this;\n\n    return {\n      getValue: function () {\n        var value = _this.nativeControl && _this.nativeControl.value;\n        return value === '' && _this.props.placeholder ? ' ' : value || '';\n      },\n      setValue: function (value) {\n        return _this.nativeControl && (_this.nativeControl.value = value);\n      },\n      openMenu: function () {},\n      closeMenu: function () {},\n      isMenuOpen: function () {\n        return false;\n      },\n      setSelectedIndex: function (index) {\n        _this.nativeControl && (_this.nativeControl.selectedIndex = index);\n      },\n      setDisabled: function (isDisabled) {\n        return _this.nativeControl && (_this.nativeControl.disabled = isDisabled);\n      },\n      setValid: function (isValid) {\n        isValid ? _this.root.removeClass(MDCSelectFoundation.cssClasses.INVALID) : _this.root.addClass(MDCSelectFoundation.cssClasses.INVALID);\n      },\n      checkValidity: function () {\n        return !!_this.nativeControl && _this.nativeControl.checkValidity();\n      }\n    };\n  };\n\n  SelectBase.prototype.getEnhancedSelectAdapterMethods_ = function () {\n    var _this = this;\n\n    return {\n      getValue: function () {\n        var value = '';\n        var listItem = _this.menu && _this.menu.items[_this.state.selectedIndex];\n\n        if (listItem && listItem.hasAttribute(MDCSelectFoundation.strings.ENHANCED_VALUE_ATTR)) {\n          value = listItem.getAttribute(MDCSelectFoundation.strings.ENHANCED_VALUE_ATTR);\n        }\n\n        return value === '' && _this.props.placeholder ? ' ' : value;\n      },\n      setValue: function (value) {\n        if (_this.menuElement) {\n          var element = _this.menuElement.querySelector(\"[\" + MDCSelectFoundation.strings.ENHANCED_VALUE_ATTR + \"=\\\"\" + value + \"\\\"]\");\n\n          var selectedIndex = element && _this.menu ? _this.menu.items.indexOf(element) : -1;\n          var selectedItem = _this.menu && _this.menu.items[selectedIndex];\n          var selectedTextContent_1 = '';\n\n          if (!!selectedItem) {\n            selectedTextContent_1 = selectedItem.dataset['label'] || selectedItem.textContent && selectedItem.textContent.trim() || '';\n          }\n\n          _this.setState({\n            selectedIndex: selectedIndex,\n            selectedTextContent: selectedTextContent_1\n          }, function () {\n            _this.foundation.layout();\n\n            _this.foundation.adapter_.floatLabel(!!selectedTextContent_1);\n          });\n        }\n      },\n      openMenu: function () {\n        _this.setState({\n          menuOpen: true\n        });\n      },\n      closeMenu: function () {\n        _this.setState({\n          menuOpen: false\n        });\n      },\n      isMenuOpen: function () {\n        return _this.state.menuOpen;\n      },\n      setSelectedIndex: function (index) {\n        _this.setState({\n          selectedIndex: index\n        });\n      },\n      setDisabled: function (isDisabled) {// handled by props in render function\n      },\n      checkValidity: function () {\n        var classList = _this.root.ref && _this.root.ref.classList;\n\n        if (classList && classList.contains(MDCSelectFoundation.cssClasses.REQUIRED) && !classList.contains(MDCSelectFoundation.cssClasses.DISABLED)) {\n          // See notes for required attribute under https://www.w3.org/TR/html52/sec-forms.html#the-select-element\n          // TL;DR: Invalid if no index is selected, or if the first index is selected and has an empty value.\n          return _this.state.selectedIndex !== -1 && (_this.state.selectedIndex !== 0 || !!_this.value);\n        } else {\n          return true;\n        }\n      },\n      setValid: function (isValid) {\n        _this.selectedText && _this.selectedText.setAttribute('aria-invalid', (!isValid).toString());\n        isValid ? _this.root.removeClass(MDCSelectFoundation.cssClasses.INVALID) : _this.root.addClass(MDCSelectFoundation.cssClasses.INVALID);\n      }\n    };\n  };\n\n  SelectBase.prototype.getCommonAdapterMethods_ = function () {\n    var _this = this;\n\n    return {\n      addClass: function (className) {\n        return _this.root.addClass(className);\n      },\n      removeClass: function (className) {\n        return _this.root.removeClass(className);\n      },\n      hasClass: function (className) {\n        return _this.root.hasClass(className);\n      },\n      isRtl: function () {\n        return _this.root.ref && window.getComputedStyle(_this.root.ref).getPropertyValue('direction') === 'rtl';\n      },\n      setRippleCenter: function (normalizedX) {\n        return _this.lineRipple.setProp('center', normalizedX);\n      },\n      activateBottomLine: function () {\n        return _this.lineRipple.setProp('active', true);\n      },\n      deactivateBottomLine: function () {\n        return _this.lineRipple.setProp('active', false);\n      },\n      notifyChange: function (value) {// handled byt the onChange event\n      }\n    };\n  };\n\n  SelectBase.prototype.getOutlineAdapterMethods_ = function () {\n    var _this = this;\n\n    return {\n      hasOutline: function () {\n        return !!_this.props.outlined;\n      },\n      notchOutline: function (labelWidth) {\n        _this.outline.setProp('notch', labelWidth);\n      },\n      closeOutline: function () {\n        _this.outline.removeProp('notch');\n      }\n    };\n  };\n\n  SelectBase.prototype.getLabelAdapterMethods_ = function () {\n    var _this = this;\n\n    return {\n      floatLabel: function (shouldFloat) {\n        _this.label.setProp('float', shouldFloat);\n      },\n      getLabelWidth: function () {\n        return _this.label.ref ? _this.label.ref.getWidth() : 0;\n      }\n    };\n  };\n\n  SelectBase.prototype.getFoundationMap_ = function () {\n    return {\n      leadingIcon: this.leadingIcon_ && this.leadingIcon_.foundation || undefined // helperText: this.helperText_ ? this.helperText_.foundation : undefined\n\n    };\n  };\n\n  SelectBase.prototype.sync = function (props, prevProps) {\n    // For controlled selects that are enhanced\n    // we need to jump through some checks to see if we need to update the\n    // value in our foundation\n    if (props.value !== prevProps.value || props.options !== prevProps.options || JSON.stringify(props.options) !== JSON.stringify(prevProps.options)) {\n      this.foundation.setValue(props.value || '');\n    }\n\n    if (props.disabled !== undefined && (!prevProps || prevProps.disabled !== props.disabled)) {\n      this.foundation.setDisabled(props.disabled);\n    }\n  };\n\n  Object.defineProperty(SelectBase.prototype, \"value\", {\n    get: function () {\n      return this.foundation.getValue();\n    },\n\n    /**\n     * @param {string} value The value to set on the select.\n     */\n    set: function (value) {\n      this.foundation.setValue(value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  SelectBase.prototype.handleChange = function (evt) {\n    this.props.onChange && this.props.onChange(evt);\n    this.foundation.handleChange(true);\n  };\n\n  SelectBase.prototype.handleFocus = function (evt) {\n    this.props.onFocus && this.props.onFocus(evt);\n    this.foundation && this.foundation.handleFocus();\n  };\n\n  SelectBase.prototype.handleBlur = function (evt) {\n    this.props.onBlur && this.props.onBlur(evt);\n    this.foundation.handleBlur();\n  };\n\n  SelectBase.prototype.handleClick = function (evt) {\n    var _this = this;\n\n    var _a = this.props,\n        onMouseDown = _a.onMouseDown,\n        onTouchStart = _a.onTouchStart;\n    evt.type === 'mousedown' && onMouseDown && onMouseDown(evt);\n    evt.type === 'touchstart' && onTouchStart && onTouchStart(evt);\n\n    var getNormalizedXCoordinate = function (evt) {\n      var targetClientRect = evt.target.getBoundingClientRect();\n      var xCoordinate = evt.clientX;\n      return xCoordinate - targetClientRect.left;\n    };\n\n    if (this.selectedText) this.selectedText.focus(); // Timeout corrects an issue for firefox not changing the value\n    // https://github.com/jamesmfriedman/rmwc/issues/412\n\n    var coord = getNormalizedXCoordinate(evt);\n    setTimeout(function () {\n      _this.foundation.handleClick(coord);\n    });\n  };\n\n  SelectBase.prototype.handleKeydown = function (evt) {\n    this.props.onKeyDown && this.props.onKeyDown(evt);\n    this.foundation.handleKeydown(evt);\n  };\n\n  SelectBase.prototype.handleMenuSelected = function (evt) {\n    var value = evt.detail.item.dataset.value;\n    this.emit('onChange', {\n      index: evt.detail.index,\n      value: value\n    }, true);\n    this.props.value === undefined && this.getEnhancedSelectAdapterMethods_().setValue(value || '');\n  };\n\n  SelectBase.prototype.handleMenuOpened = function () {\n    // Menu should open to the last selected element.\n    if (this.menu && this.state.selectedIndex >= 0) {\n      this.menu.items[this.state.selectedIndex].focus();\n    }\n  };\n\n  SelectBase.prototype.handleMenuClosed = function () {\n    // menuOpened_ is used to track the state of the menu opening or closing since the menu.open function\n    // will return false if the menu is still closing and this method listens to the closed event which\n    // occurs after the menu is already closed.\n    this.setState({\n      menuOpen: false\n    });\n\n    if (document.activeElement !== this.selectedText) {\n      this.foundation.handleBlur();\n    }\n  }; // handle leading and trailing icons\n\n\n  SelectBase.prototype.renderIcon = function (iconNode, leadOrTrail) {\n    var _this = this;\n\n    if (iconNode && typeof iconNode === 'string' || iconNode.type && iconNode.type.displayName !== SelectIcon.displayName) {\n      return React.createElement(SelectIcon, {\n        ref: function (ref) {\n          if (leadOrTrail === 'leadingIcon_') {\n            _this.leadingIcon_ = ref && ref.foundation;\n          } else {\n            _this.trailingIcon_ = ref && ref.foundation;\n          }\n        },\n        tabIndex: leadOrTrail === 'trailingIcon_' ? 0 : undefined,\n        icon: iconNode\n      });\n    }\n\n    return iconNode;\n  };\n\n  SelectBase.prototype.renderHelpText = function () {\n    var helpText = this.props.helpText;\n    var shouldRender = !!helpText;\n\n    if (!shouldRender) {\n      return null;\n    }\n\n    var shouldSpread = typeof helpText === 'object' && !React.isValidElement(helpText);\n    return helpText && shouldSpread ? React.createElement(SelectHelperText, __assign({}, helpText)) : React.createElement(SelectHelperText, null, helpText);\n  };\n\n  SelectBase.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        placeholder = _a.placeholder,\n        children = _a.children,\n        value = _a.value,\n        outlined = _a.outlined,\n        _b = _a.label,\n        label = _b === void 0 ? '' : _b,\n        _c = _a.options,\n        options = _c === void 0 ? [] : _c,\n        _d = _a.rootProps,\n        rootProps = _d === void 0 ? {} : _d,\n        className = _a.className,\n        enhanced = _a.enhanced,\n        _icon = _a.icon,\n        _withLeadingIcon = _a.withLeadingIcon,\n        onChange = _a.onChange,\n        onFocus = _a.onFocus,\n        onBlur = _a.onBlur,\n        onKeyDown = _a.onKeyDown,\n        invalid = _a.invalid,\n        inputRef = _a.inputRef,\n        helpText = _a.helpText,\n        rest = __rest(_a, [\"placeholder\", \"children\", \"value\", \"outlined\", \"label\", \"options\", \"rootProps\", \"className\", \"enhanced\", \"icon\", \"withLeadingIcon\", \"onChange\", \"onFocus\", \"onBlur\", \"onKeyDown\", \"invalid\", \"inputRef\", \"helpText\"]);\n\n    var _e = this.props,\n        icon = _e.icon,\n        withLeadingIcon = _e.withLeadingIcon;\n\n    if (withLeadingIcon !== undefined) {\n      deprecationWarning(\"Select prop 'withLeadingIcon' is now 'icon'.\");\n      icon = withLeadingIcon;\n    }\n\n    var selectOptions = createSelectOptions(options);\n    var defaultValue = value !== undefined ? undefined : this.props.defaultValue || '';\n    var sharedEventProps = {\n      onChange: this.handleChange,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onTouchStart: this.handleClick,\n      onMouseDown: this.handleClick\n    };\n    var sharedControlProps = {\n      defaultValue: defaultValue,\n      value: value,\n      placeholder: placeholder,\n      selectOptions: selectOptions\n    };\n    var renderedLabel = React.createElement(FloatingLabel, __assign({}, this.label.props({}), {\n      ref: this.label.setRef\n    }), label);\n    return React.createElement(React.Fragment, null, React.createElement(SelectRoot, __assign({\n      ripple: !outlined\n    }, this.root.props(__assign({\n      className: className\n    }, rootProps)), {\n      invalid: invalid,\n      required: rest.required,\n      icon: icon,\n      outlined: outlined,\n      ref: this.root.setRef\n    }), !!icon && this.renderIcon(icon, 'leadingIcon_'), React.createElement(SelectDropdownArrow, null), enhanced ? React.createElement(React.Fragment, null, React.createElement(\"input\", {\n      type: \"hidden\",\n      ref: function (el) {\n        return _this.hiddenInput_ = el;\n      }\n    }), React.createElement(\"div\", __assign({\n      ref: function (el) {\n        return _this.selectedText = el;\n      },\n      className: \"mdc-select__selected-text\",\n      tabIndex: this.props.disabled ? -1 : 0,\n      \"aria-disabled\": this.props.disabled ? 'true' : 'false',\n      \"aria-expanded\": this.state.menuOpen,\n      onKeyDown: this.handleKeydown\n    }, sharedEventProps), this.state.selectedTextContent), React.createElement(SelectEnhancedControl, __assign({\n      anchorCorner: \"bottomStart\"\n    }, typeof enhanced === 'object' ? enhanced : {}, sharedControlProps, {\n      selectedIndex: this.state.selectedIndex,\n      apiRef: function (apiRef) {\n        _this.menu = apiRef;\n      },\n      open: this.state.menuOpen,\n      onClose: this.handleMenuClosed,\n      onOpen: this.handleMenuOpened,\n      onSelect: this.handleMenuSelected\n    }), children)) : React.createElement(SelectNativeControl, __assign({}, rest, {\n      elementRef: function (el) {\n        _this.nativeControl = el;\n        inputRef && inputRef(el);\n      }\n    }, sharedControlProps, sharedEventProps), children), !!outlined ? React.createElement(NotchedOutline, __assign({}, this.outline.props({})), renderedLabel) : React.createElement(React.Fragment, null, renderedLabel, React.createElement(LineRipple, __assign({}, this.lineRipple.props({}))))), this.renderHelpText());\n  };\n\n  return SelectBase;\n}(FoundationComponent);\n\nexport { SelectBase };\n\nvar SelectIcon =\n/** @class */\nfunction (_super) {\n  __extends(SelectIcon, _super);\n\n  function SelectIcon() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.root = _this.createElement('root');\n    return _this;\n  }\n\n  SelectIcon.prototype.getDefaultFoundation = function () {\n    var _this = this;\n\n    return new MDCSelectIconFoundation({\n      getAttr: function (attr) {\n        return _this.root.getProp(attr);\n      },\n      setAttr: function (attr, value) {\n        return _this.root.setProp(attr, value);\n      },\n      removeAttr: function (attr) {\n        return _this.root.removeProp(attr);\n      },\n      setContent: function (content) {\n        _this.root.ref && (_this.root.ref.textContent = content);\n      },\n      registerInteractionHandler: function (evtType, handler) {\n        return _this.root.addEventListener(evtType, handler);\n      },\n      deregisterInteractionHandler: function (evtType, handler) {\n        return _this.root.removeEventListener(evtType, handler);\n      },\n      notifyIconAction: function () {\n        return _this.emit('onClick', {}, true);\n      }\n    });\n  };\n\n  SelectIcon.prototype.render = function () {\n    return React.createElement(Icon, __assign({}, this.root.props(__assign({}, this.props, {\n      className: 'mdc-select__icon'\n    }))));\n  };\n\n  SelectIcon.displayName = 'SelectIcon';\n  return SelectIcon;\n}(FoundationComponent);\n\nexport { SelectIcon };\nexport var SelectHelperText = componentFactory({\n  displayName: 'SelectHelperText',\n  tag: 'p',\n  classNames: function (props) {\n    return ['mdc-select-helper-text', {\n      'mdc-select-helper-text--persistent': props.persistent,\n      'mdc-select-helper-text--validation-msg': props.validationMsg\n    }];\n  },\n  consumeProps: ['persistent', 'validationMsg']\n});\n/** A Select Component */\n\nexport var Select = function (_a) {\n  var enhanced = _a.enhanced,\n      rest = __rest(_a, [\"enhanced\"]);\n\n  return React.createElement(SelectBase, __assign({\n    key: enhanced ? 'enhanced' : 'native',\n    enhanced: enhanced\n  }, rest));\n};\nSelect.displayName = 'Select';","map":{"version":3,"sources":["/Users/alexlipnik/Documents/ec2/basic-store/node_modules/@rmwc/select/next/index.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","deprecationWarning","MDCSelectFoundation","MDCSelectIconFoundation","componentFactory","FoundationComponent","randomId","FloatingLabel","LineRipple","Icon","NotchedOutline","Menu","MenuItem","MenuItems","ListGroup","ListGroupSubheader","ListDivider","withRipple","createSelectOptions","options","isArray","map","opt","Error","value","label","keys","SelectRoot","displayName","defaultProps","role","classNames","props","outlined","required","invalid","icon","consumeProps","SelectDropdownArrow","_super","shouldComponentUpdate","render","createElement","className","Component","SelectNativeControl","_a","selectOptions","placeholder","children","elementRef","rest","tabIndex","ref","undefined","disabled","option","key","SelectEnhancedControl","apiRef","selectedIndex","currentIndex","showPlaceholder","defaultValue","selected","theme","activated","SelectBase","_this","root","lineRipple","outline","id","nativeControl","selectedText","menuElement","menu","hiddenInput_","leadingIcon_","trailingIcon_","state","menuOpen","selectedTextContent","handleChange","bind","handleFocus","handleBlur","handleClick","handleKeydown","handleMenuSelected","handleMenuOpened","handleMenuClosed","componentDidMount","enhanced","querySelector","hoistMenuToBody","setAnchorElement","enhancedAdapterMethods","getEnhancedSelectAdapterMethods_","setValue","foundation","setDisabled","document","activeElement","getDefaultFoundation","getNativeSelectAdapterMethods_","getCommonAdapterMethods_","getOutlineAdapterMethods_","getLabelAdapterMethods_","getFoundationMap_","getValue","openMenu","closeMenu","isMenuOpen","setSelectedIndex","index","isDisabled","setValid","isValid","removeClass","cssClasses","INVALID","addClass","checkValidity","listItem","items","hasAttribute","strings","ENHANCED_VALUE_ATTR","getAttribute","element","selectedItem","selectedTextContent_1","dataset","textContent","trim","setState","layout","adapter_","floatLabel","classList","contains","REQUIRED","DISABLED","setAttribute","toString","hasClass","isRtl","window","getComputedStyle","getPropertyValue","setRippleCenter","normalizedX","setProp","activateBottomLine","deactivateBottomLine","notifyChange","hasOutline","notchOutline","labelWidth","closeOutline","removeProp","shouldFloat","getLabelWidth","getWidth","leadingIcon","sync","prevProps","JSON","stringify","defineProperty","get","set","enumerable","configurable","evt","onChange","onFocus","onBlur","onMouseDown","onTouchStart","type","getNormalizedXCoordinate","targetClientRect","target","getBoundingClientRect","xCoordinate","clientX","left","focus","coord","setTimeout","onKeyDown","detail","item","emit","renderIcon","iconNode","leadOrTrail","SelectIcon","renderHelpText","helpText","shouldRender","shouldSpread","isValidElement","SelectHelperText","_b","_c","_d","rootProps","_icon","_withLeadingIcon","withLeadingIcon","inputRef","_e","sharedEventProps","sharedControlProps","renderedLabel","setRef","Fragment","ripple","el","anchorCorner","open","onClose","onOpen","onSelect","getAttr","attr","getProp","setAttr","removeAttr","setContent","content","registerInteractionHandler","evtType","handler","addEventListener","deregisterInteractionHandler","removeEventListener","notifyIconAction","tag","persistent","validationMsg","Select"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { deprecationWarning } from '@rmwc/base';\nimport { MDCSelectFoundation, MDCSelectIconFoundation } from '@material/select';\nimport { componentFactory, FoundationComponent, randomId } from '@rmwc/base';\nimport { FloatingLabel } from '@rmwc/floating-label';\nimport { LineRipple } from '@rmwc/line-ripple';\nimport { Icon } from '@rmwc/icon';\nimport { NotchedOutline } from '@rmwc/notched-outline';\nimport { Menu, MenuItem, MenuItems } from '@rmwc/menu';\nimport { ListGroup, ListGroupSubheader, ListDivider } from '@rmwc/list';\nimport { withRipple } from '@rmwc/ripple';\n/**\n * Takes multiple structures for options and returns [{label: 'label', value: 'value', ...rest}]\n */\nvar createSelectOptions = function (options) {\n    // preformatted array\n    if (Array.isArray(options) && options[0] && typeof options[0] === 'object') {\n        return options.map(function (opt) {\n            if (typeof opt !== 'object') {\n                throw new Error(\"Encountered non object for Select \" + opt);\n            }\n            return __assign({}, opt, { options: createSelectOptions(opt.options) });\n        });\n    }\n    // simple array\n    if (Array.isArray(options)) {\n        return options.map(function (value) { return ({ value: value, label: value }); });\n    }\n    // value => label objects\n    if (typeof options === 'object') {\n        return Object.keys(options).map(function (value) { return ({\n            value: value,\n            label: options[value]\n        }); });\n    }\n    // default, just return\n    return options;\n};\nvar SelectRoot = withRipple()(componentFactory({\n    displayName: 'SelectRoot',\n    defaultProps: {\n        role: 'listbox'\n    },\n    classNames: function (props) { return [\n        'mdc-select',\n        {\n            'mdc-select--outlined': !!props.outlined,\n            'mdc-select--required': !!props.required,\n            'mdc-select--invalid': !!props.invalid,\n            'mdc-select--with-leading-icon': !!props.icon\n        }\n    ]; },\n    consumeProps: ['outlined', 'icon', 'required', 'invalid']\n}));\nvar SelectDropdownArrow = /** @class */ (function (_super) {\n    __extends(SelectDropdownArrow, _super);\n    function SelectDropdownArrow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SelectDropdownArrow.prototype.shouldComponentUpdate = function () {\n        return false;\n    };\n    SelectDropdownArrow.prototype.render = function () {\n        return React.createElement(\"i\", { className: \"mdc-select__dropdown-icon\" });\n    };\n    return SelectDropdownArrow;\n}(React.Component));\nvar SelectNativeControl = /** @class */ (function (_super) {\n    __extends(SelectNativeControl, _super);\n    function SelectNativeControl() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SelectNativeControl.prototype.render = function () {\n        var _a = this.props, selectOptions = _a.selectOptions, placeholder = _a.placeholder, children = _a.children, elementRef = _a.elementRef, rest = __rest(_a, [\"selectOptions\", \"placeholder\", \"children\", \"elementRef\"]);\n        return (React.createElement(\"select\", __assign({ tabIndex: 0 }, rest, { ref: elementRef, className: \"mdc-select__native-control \" + (rest.className || '') }),\n            placeholder != undefined && (React.createElement(\"option\", { value: \"\", disabled: rest.required }, placeholder)),\n            !!selectOptions &&\n                selectOptions.map(function (_a, i) {\n                    var label = _a.label, options = _a.options, option = __rest(_a, [\"label\", \"options\"]);\n                    if (options) {\n                        return (React.createElement(\"optgroup\", { label: label, key: label }, options.map(function (_a, i) {\n                            var label = _a.label, option = __rest(_a, [\"label\"]);\n                            return (React.createElement(\"option\", __assign({ key: label + \"-\" + option.value }, option, { value: option.value }), label));\n                        })));\n                    }\n                    return (React.createElement(\"option\", __assign({ key: label + \"-\" + option.value }, option, { value: option.value }), label));\n                }),\n            children));\n    };\n    SelectNativeControl.displayName = 'SelectNativeControl';\n    return SelectNativeControl;\n}(React.Component));\n// eslint-disable-next-line\nvar SelectEnhancedControl = /** @class */ (function (_super) {\n    __extends(SelectEnhancedControl, _super);\n    function SelectEnhancedControl() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SelectEnhancedControl.prototype.render = function () {\n        var _a = this.props, selectOptions = _a.selectOptions, apiRef = _a.apiRef, selectedIndex = _a.selectedIndex, placeholder = _a.placeholder, children = _a.children, rest = __rest(_a, [\"selectOptions\", \"apiRef\", \"selectedIndex\", \"placeholder\", \"children\"]);\n        var currentIndex = 0;\n        var showPlaceholder = (placeholder !== undefined ||\n            (this.props.value === undefined &&\n                this.props.defaultValue === undefined)) &&\n            currentIndex++ === 0;\n        return (React.createElement(Menu, __assign({}, rest, { ref: apiRef, className: \"mdc-select__menu\" }),\n            showPlaceholder && (React.createElement(MenuItem, { selected: currentIndex - 1 === selectedIndex, \"data-value\": \"\" }, placeholder)),\n            selectOptions.map(function (_a, i) {\n                var label = _a.label, options = _a.options, option = __rest(_a, [\"label\", \"options\"]);\n                if (options) {\n                    return (React.createElement(ListGroup, { key: label },\n                        React.createElement(ListGroupSubheader, { theme: \"textDisabledOnBackground\" }, label),\n                        React.createElement(MenuItems, null, options.map(function (_a, i) {\n                            var label = _a.label, option = __rest(_a, [\"label\"]);\n                            currentIndex += 1;\n                            return (React.createElement(MenuItem, __assign({ key: label + \"-\" + option.value, activated: currentIndex - 1 === selectedIndex }, option, { \"data-value\": option.value }), label));\n                        })),\n                        i < selectOptions.length - 1 && React.createElement(ListDivider, null)));\n                }\n                currentIndex += 1;\n                return (React.createElement(MenuItem, __assign({ key: label + \"-\" + option.value, activated: currentIndex - 1 === selectedIndex }, option, { \"data-value\": option.value }), label));\n            }),\n            children));\n    };\n    return SelectEnhancedControl;\n}(React.Component));\nvar SelectBase = /** @class */ (function (_super) {\n    __extends(SelectBase, _super);\n    function SelectBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this.root = _this.createElement('root');\n        _this.lineRipple = _this.createElement('lineRipple');\n        _this.outline = _this.createElement('outline');\n        _this.label = _this.createElement('label');\n        _this.id = _this.props.id || randomId('select');\n        _this.nativeControl = null;\n        _this.selectedText = null;\n        _this.menuElement = null;\n        _this.menu = null;\n        _this.hiddenInput_ = null;\n        _this.leadingIcon_ = null;\n        _this.trailingIcon_ = null;\n        _this.state = {\n            selectedIndex: _this.props.placeholder !== undefined ? 0 : -1,\n            menuOpen: false,\n            selectedTextContent: ''\n        };\n        _this.handleChange = _this.handleChange.bind(_this);\n        _this.handleFocus = _this.handleFocus.bind(_this);\n        _this.handleBlur = _this.handleBlur.bind(_this);\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleKeydown = _this.handleKeydown.bind(_this);\n        _this.handleMenuSelected = _this.handleMenuSelected.bind(_this);\n        _this.handleMenuOpened = _this.handleMenuOpened.bind(_this);\n        _this.handleMenuClosed = _this.handleMenuClosed.bind(_this);\n        return _this;\n    }\n    SelectBase.prototype.componentDidMount = function () {\n        _super.prototype.componentDidMount.call(this);\n        var _a = this.props, enhanced = _a.enhanced, value = _a.value;\n        if (this.menu) {\n            this.menuElement =\n                this.root.ref && this.root.ref.querySelector('.mdc-select__menu');\n            // tried to replace this with the hoistToBody prop and it made the placeholders\n            // disappear... likely a timing issue. Leaving this for now\n            this.menu.hoistMenuToBody();\n            this.root.ref && this.menu.setAnchorElement(this.root.ref);\n            //this.menu.wrapFocus = false;\n            if (this.hiddenInput_ && this.hiddenInput_.value) {\n                // If the hidden input already has a value, use it to restore the select's value.\n                // This can happen e.g. if the user goes back or (in some browsers) refreshes the page.\n                var enhancedAdapterMethods = this.getEnhancedSelectAdapterMethods_();\n                enhancedAdapterMethods.setValue(this.hiddenInput_ ? this.hiddenInput_.value : '');\n            }\n            else if (enhanced) {\n                // If an element is selected, the select should set the initial selected text.\n                this.getEnhancedSelectAdapterMethods_().setValue(value || '');\n            }\n        }\n        // Initially sync floating label\n        this.foundation.handleChange(false);\n        if (this.props.disabled) {\n            this.foundation.setDisabled(true);\n        }\n        if (this.nativeControl && document.activeElement === this.nativeControl) {\n            this.foundation.handleFocus();\n        }\n    };\n    SelectBase.prototype.getDefaultFoundation = function () {\n        return new MDCSelectFoundation(__assign({}, (this.props.enhanced\n            ? this.getEnhancedSelectAdapterMethods_()\n            : this.getNativeSelectAdapterMethods_()), this.getCommonAdapterMethods_(), this.getOutlineAdapterMethods_(), this.getLabelAdapterMethods_()), this.getFoundationMap_());\n    };\n    SelectBase.prototype.getNativeSelectAdapterMethods_ = function () {\n        var _this = this;\n        return {\n            getValue: function () {\n                var value = _this.nativeControl && _this.nativeControl.value;\n                return value === '' && _this.props.placeholder ? ' ' : value || '';\n            },\n            setValue: function (value) {\n                return _this.nativeControl && (_this.nativeControl.value = value);\n            },\n            openMenu: function () { },\n            closeMenu: function () { },\n            isMenuOpen: function () { return false; },\n            setSelectedIndex: function (index) {\n                _this.nativeControl && (_this.nativeControl.selectedIndex = index);\n            },\n            setDisabled: function (isDisabled) {\n                return _this.nativeControl && (_this.nativeControl.disabled = isDisabled);\n            },\n            setValid: function (isValid) {\n                isValid\n                    ? _this.root.removeClass(MDCSelectFoundation.cssClasses.INVALID)\n                    : _this.root.addClass(MDCSelectFoundation.cssClasses.INVALID);\n            },\n            checkValidity: function () {\n                return !!_this.nativeControl && _this.nativeControl.checkValidity();\n            }\n        };\n    };\n    SelectBase.prototype.getEnhancedSelectAdapterMethods_ = function () {\n        var _this = this;\n        return {\n            getValue: function () {\n                var value = '';\n                var listItem = _this.menu && _this.menu.items[_this.state.selectedIndex];\n                if (listItem &&\n                    listItem.hasAttribute(MDCSelectFoundation.strings.ENHANCED_VALUE_ATTR)) {\n                    value = listItem.getAttribute(MDCSelectFoundation.strings.ENHANCED_VALUE_ATTR);\n                }\n                return value === '' && _this.props.placeholder ? ' ' : value;\n            },\n            setValue: function (value) {\n                if (_this.menuElement) {\n                    var element = _this.menuElement.querySelector(\"[\" + MDCSelectFoundation.strings.ENHANCED_VALUE_ATTR + \"=\\\"\" + value + \"\\\"]\");\n                    var selectedIndex = element && _this.menu\n                        ? _this.menu.items.indexOf(element)\n                        : -1;\n                    var selectedItem = _this.menu && _this.menu.items[selectedIndex];\n                    var selectedTextContent_1 = '';\n                    if (!!selectedItem) {\n                        selectedTextContent_1 =\n                            selectedItem.dataset['label'] ||\n                                ((selectedItem.textContent && selectedItem.textContent.trim()) ||\n                                    '');\n                    }\n                    _this.setState({\n                        selectedIndex: selectedIndex,\n                        selectedTextContent: selectedTextContent_1\n                    }, function () {\n                        _this.foundation.layout();\n                        _this.foundation.adapter_.floatLabel(!!selectedTextContent_1);\n                    });\n                }\n            },\n            openMenu: function () {\n                _this.setState({\n                    menuOpen: true\n                });\n            },\n            closeMenu: function () {\n                _this.setState({\n                    menuOpen: false\n                });\n            },\n            isMenuOpen: function () { return _this.state.menuOpen; },\n            setSelectedIndex: function (index) {\n                _this.setState({ selectedIndex: index });\n            },\n            setDisabled: function (isDisabled) {\n                // handled by props in render function\n            },\n            checkValidity: function () {\n                var classList = _this.root.ref && _this.root.ref.classList;\n                if (classList &&\n                    classList.contains(MDCSelectFoundation.cssClasses.REQUIRED) &&\n                    !classList.contains(MDCSelectFoundation.cssClasses.DISABLED)) {\n                    // See notes for required attribute under https://www.w3.org/TR/html52/sec-forms.html#the-select-element\n                    // TL;DR: Invalid if no index is selected, or if the first index is selected and has an empty value.\n                    return (_this.state.selectedIndex !== -1 &&\n                        (_this.state.selectedIndex !== 0 || !!_this.value));\n                }\n                else {\n                    return true;\n                }\n            },\n            setValid: function (isValid) {\n                _this.selectedText &&\n                    _this.selectedText.setAttribute('aria-invalid', (!isValid).toString());\n                isValid\n                    ? _this.root.removeClass(MDCSelectFoundation.cssClasses.INVALID)\n                    : _this.root.addClass(MDCSelectFoundation.cssClasses.INVALID);\n            }\n        };\n    };\n    SelectBase.prototype.getCommonAdapterMethods_ = function () {\n        var _this = this;\n        return {\n            addClass: function (className) { return _this.root.addClass(className); },\n            removeClass: function (className) { return _this.root.removeClass(className); },\n            hasClass: function (className) { return _this.root.hasClass(className); },\n            isRtl: function () {\n                return _this.root.ref &&\n                    window.getComputedStyle(_this.root.ref).getPropertyValue('direction') ===\n                        'rtl';\n            },\n            setRippleCenter: function (normalizedX) {\n                return _this.lineRipple.setProp('center', normalizedX);\n            },\n            activateBottomLine: function () { return _this.lineRipple.setProp('active', true); },\n            deactivateBottomLine: function () { return _this.lineRipple.setProp('active', false); },\n            notifyChange: function (value) {\n                // handled byt the onChange event\n            }\n        };\n    };\n    SelectBase.prototype.getOutlineAdapterMethods_ = function () {\n        var _this = this;\n        return {\n            hasOutline: function () { return !!_this.props.outlined; },\n            notchOutline: function (labelWidth) {\n                _this.outline.setProp('notch', labelWidth);\n            },\n            closeOutline: function () {\n                _this.outline.removeProp('notch');\n            }\n        };\n    };\n    SelectBase.prototype.getLabelAdapterMethods_ = function () {\n        var _this = this;\n        return {\n            floatLabel: function (shouldFloat) {\n                _this.label.setProp('float', shouldFloat);\n            },\n            getLabelWidth: function () {\n                return _this.label.ref ? _this.label.ref.getWidth() : 0;\n            }\n        };\n    };\n    SelectBase.prototype.getFoundationMap_ = function () {\n        return {\n            leadingIcon: (this.leadingIcon_ && this.leadingIcon_.foundation) || undefined\n            // helperText: this.helperText_ ? this.helperText_.foundation : undefined\n        };\n    };\n    SelectBase.prototype.sync = function (props, prevProps) {\n        // For controlled selects that are enhanced\n        // we need to jump through some checks to see if we need to update the\n        // value in our foundation\n        if (props.value !== prevProps.value ||\n            props.options !== prevProps.options ||\n            JSON.stringify(props.options) !== JSON.stringify(prevProps.options)) {\n            this.foundation.setValue(props.value || '');\n        }\n        if (props.disabled !== undefined &&\n            (!prevProps || prevProps.disabled !== props.disabled)) {\n            this.foundation.setDisabled(props.disabled);\n        }\n    };\n    Object.defineProperty(SelectBase.prototype, \"value\", {\n        get: function () {\n            return this.foundation.getValue();\n        },\n        /**\n         * @param {string} value The value to set on the select.\n         */\n        set: function (value) {\n            this.foundation.setValue(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectBase.prototype.handleChange = function (evt) {\n        this.props.onChange && this.props.onChange(evt);\n        this.foundation.handleChange(true);\n    };\n    SelectBase.prototype.handleFocus = function (evt) {\n        this.props.onFocus && this.props.onFocus(evt);\n        this.foundation && this.foundation.handleFocus();\n    };\n    SelectBase.prototype.handleBlur = function (evt) {\n        this.props.onBlur && this.props.onBlur(evt);\n        this.foundation.handleBlur();\n    };\n    SelectBase.prototype.handleClick = function (evt) {\n        var _this = this;\n        var _a = this.props, onMouseDown = _a.onMouseDown, onTouchStart = _a.onTouchStart;\n        evt.type === 'mousedown' && onMouseDown && onMouseDown(evt);\n        evt.type === 'touchstart' && onTouchStart && onTouchStart(evt);\n        var getNormalizedXCoordinate = function (evt) {\n            var targetClientRect = evt.target.getBoundingClientRect();\n            var xCoordinate = evt.clientX;\n            return xCoordinate - targetClientRect.left;\n        };\n        if (this.selectedText)\n            this.selectedText.focus();\n        // Timeout corrects an issue for firefox not changing the value\n        // https://github.com/jamesmfriedman/rmwc/issues/412\n        var coord = getNormalizedXCoordinate(evt);\n        setTimeout(function () {\n            _this.foundation.handleClick(coord);\n        });\n    };\n    SelectBase.prototype.handleKeydown = function (evt) {\n        this.props.onKeyDown && this.props.onKeyDown(evt);\n        this.foundation.handleKeydown(evt);\n    };\n    SelectBase.prototype.handleMenuSelected = function (evt) {\n        var value = evt.detail.item.dataset.value;\n        this.emit('onChange', {\n            index: evt.detail.index,\n            value: value\n        }, true);\n        this.props.value === undefined &&\n            this.getEnhancedSelectAdapterMethods_().setValue(value || '');\n    };\n    SelectBase.prototype.handleMenuOpened = function () {\n        // Menu should open to the last selected element.\n        if (this.menu && this.state.selectedIndex >= 0) {\n            this.menu.items[this.state.selectedIndex].focus();\n        }\n    };\n    SelectBase.prototype.handleMenuClosed = function () {\n        // menuOpened_ is used to track the state of the menu opening or closing since the menu.open function\n        // will return false if the menu is still closing and this method listens to the closed event which\n        // occurs after the menu is already closed.\n        this.setState({\n            menuOpen: false\n        });\n        if (document.activeElement !== this.selectedText) {\n            this.foundation.handleBlur();\n        }\n    };\n    // handle leading and trailing icons\n    SelectBase.prototype.renderIcon = function (iconNode, leadOrTrail) {\n        var _this = this;\n        if ((iconNode && typeof iconNode === 'string') ||\n            (iconNode.type && iconNode.type.displayName !== SelectIcon.displayName)) {\n            return (React.createElement(SelectIcon, { ref: function (ref) {\n                    if (leadOrTrail === 'leadingIcon_') {\n                        _this.leadingIcon_ = ref && ref.foundation;\n                    }\n                    else {\n                        _this.trailingIcon_ = ref && ref.foundation;\n                    }\n                }, tabIndex: leadOrTrail === 'trailingIcon_' ? 0 : undefined, icon: iconNode }));\n        }\n        return iconNode;\n    };\n    SelectBase.prototype.renderHelpText = function () {\n        var helpText = this.props.helpText;\n        var shouldRender = !!helpText;\n        if (!shouldRender) {\n            return null;\n        }\n        var shouldSpread = typeof helpText === 'object' && !React.isValidElement(helpText);\n        return helpText && shouldSpread ? (React.createElement(SelectHelperText, __assign({}, helpText))) : (React.createElement(SelectHelperText, null, helpText));\n    };\n    SelectBase.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, placeholder = _a.placeholder, children = _a.children, value = _a.value, outlined = _a.outlined, _b = _a.label, label = _b === void 0 ? '' : _b, _c = _a.options, options = _c === void 0 ? [] : _c, _d = _a.rootProps, rootProps = _d === void 0 ? {} : _d, className = _a.className, enhanced = _a.enhanced, _icon = _a.icon, _withLeadingIcon = _a.withLeadingIcon, onChange = _a.onChange, onFocus = _a.onFocus, onBlur = _a.onBlur, onKeyDown = _a.onKeyDown, invalid = _a.invalid, inputRef = _a.inputRef, helpText = _a.helpText, rest = __rest(_a, [\"placeholder\", \"children\", \"value\", \"outlined\", \"label\", \"options\", \"rootProps\", \"className\", \"enhanced\", \"icon\", \"withLeadingIcon\", \"onChange\", \"onFocus\", \"onBlur\", \"onKeyDown\", \"invalid\", \"inputRef\", \"helpText\"]);\n        var _e = this.props, icon = _e.icon, withLeadingIcon = _e.withLeadingIcon;\n        if (withLeadingIcon !== undefined) {\n            deprecationWarning(\"Select prop 'withLeadingIcon' is now 'icon'.\");\n            icon = withLeadingIcon;\n        }\n        var selectOptions = createSelectOptions(options);\n        var defaultValue = value !== undefined ? undefined : this.props.defaultValue || '';\n        var sharedEventProps = {\n            onChange: this.handleChange,\n            onFocus: this.handleFocus,\n            onBlur: this.handleBlur,\n            onTouchStart: this.handleClick,\n            onMouseDown: this.handleClick\n        };\n        var sharedControlProps = {\n            defaultValue: defaultValue,\n            value: value,\n            placeholder: placeholder,\n            selectOptions: selectOptions\n        };\n        var renderedLabel = (React.createElement(FloatingLabel, __assign({}, this.label.props({}), { ref: this.label.setRef }), label));\n        return (React.createElement(React.Fragment, null,\n            React.createElement(SelectRoot, __assign({ ripple: !outlined }, this.root.props(__assign({ className: className }, rootProps)), { invalid: invalid, required: rest.required, icon: icon, outlined: outlined, ref: this.root.setRef }),\n                !!icon && this.renderIcon(icon, 'leadingIcon_'),\n                React.createElement(SelectDropdownArrow, null),\n                enhanced ? (React.createElement(React.Fragment, null,\n                    React.createElement(\"input\", { type: \"hidden\", ref: function (el) { return (_this.hiddenInput_ = el); } }),\n                    React.createElement(\"div\", __assign({ ref: function (el) { return (_this.selectedText = el); }, className: \"mdc-select__selected-text\", tabIndex: this.props.disabled ? -1 : 0, \"aria-disabled\": this.props.disabled ? 'true' : 'false', \"aria-expanded\": this.state.menuOpen, onKeyDown: this.handleKeydown }, sharedEventProps), this.state.selectedTextContent),\n                    React.createElement(SelectEnhancedControl, __assign({ anchorCorner: \"bottomStart\" }, (typeof enhanced === 'object' ? enhanced : {}), sharedControlProps, { selectedIndex: this.state.selectedIndex, apiRef: function (apiRef) {\n                            _this.menu = apiRef;\n                        }, open: this.state.menuOpen, onClose: this.handleMenuClosed, onOpen: this.handleMenuOpened, onSelect: this.handleMenuSelected }), children))) : (React.createElement(SelectNativeControl, __assign({}, rest, { elementRef: function (el) {\n                        _this.nativeControl = el;\n                        inputRef && inputRef(el);\n                    } }, sharedControlProps, sharedEventProps), children)),\n                !!outlined ? (React.createElement(NotchedOutline, __assign({}, this.outline.props({})), renderedLabel)) : (React.createElement(React.Fragment, null,\n                    renderedLabel,\n                    React.createElement(LineRipple, __assign({}, this.lineRipple.props({})))))),\n            this.renderHelpText()));\n    };\n    return SelectBase;\n}(FoundationComponent));\nexport { SelectBase };\nvar SelectIcon = /** @class */ (function (_super) {\n    __extends(SelectIcon, _super);\n    function SelectIcon() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.root = _this.createElement('root');\n        return _this;\n    }\n    SelectIcon.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        return new MDCSelectIconFoundation({\n            getAttr: function (attr) {\n                return _this.root.getProp(attr);\n            },\n            setAttr: function (attr, value) {\n                return _this.root.setProp(attr, value);\n            },\n            removeAttr: function (attr) { return _this.root.removeProp(attr); },\n            setContent: function (content) {\n                _this.root.ref && (_this.root.ref.textContent = content);\n            },\n            registerInteractionHandler: function (evtType, handler) { return _this.root.addEventListener(evtType, handler); },\n            deregisterInteractionHandler: function (evtType, handler) { return _this.root.removeEventListener(evtType, handler); },\n            notifyIconAction: function () { return _this.emit('onClick', {}, true); }\n        });\n    };\n    SelectIcon.prototype.render = function () {\n        return (React.createElement(Icon, __assign({}, this.root.props(__assign({}, this.props, { className: 'mdc-select__icon' })))));\n    };\n    SelectIcon.displayName = 'SelectIcon';\n    return SelectIcon;\n}(FoundationComponent));\nexport { SelectIcon };\nexport var SelectHelperText = componentFactory({\n    displayName: 'SelectHelperText',\n    tag: 'p',\n    classNames: function (props) { return [\n        'mdc-select-helper-text',\n        {\n            'mdc-select-helper-text--persistent': props.persistent,\n            'mdc-select-helper-text--validation-msg': props.validationMsg\n        }\n    ]; },\n    consumeProps: ['persistent', 'validationMsg']\n});\n/** A Select Component */\nexport var Select = function (_a) {\n    var enhanced = _a.enhanced, rest = __rest(_a, [\"enhanced\"]);\n    return (React.createElement(SelectBase, __assign({ key: enhanced ? 'enhanced' : 'native', enhanced: enhanced }, rest)));\n};\nSelect.displayName = 'Select';\n"]},"metadata":{},"sourceType":"module"}