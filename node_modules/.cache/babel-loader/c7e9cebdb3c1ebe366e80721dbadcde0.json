{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { componentFactory, classNames } from '@rmwc/base';\nvar CollapsibleRoot = componentFactory({\n  displayName: 'CollapsibleRoot',\n  classNames: ['rmwc-collapsible-list']\n});\n\nvar possiblyFocusElement = function (el) {\n  if (!el) return false;\n  var tabIndex = el.getAttribute('tabindex');\n\n  if (tabIndex && Number(tabIndex) >= 0) {\n    el.focus();\n    return true;\n  }\n\n  return false;\n};\n\nvar getNextSibling = function (el, isBack) {\n  if (!el) return null;\n  var next = isBack ? el.previousElementSibling : el.nextElementSibling;\n\n  if (next === null) {\n    return getNextSibling(el.parentElement, isBack);\n  }\n\n  return next;\n};\n/** A collapsible list component. */\n\n\nvar CollapsibleList =\n/** @class */\nfunction (_super) {\n  __extends(CollapsibleList, _super);\n\n  function CollapsibleList(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.childContainer = null;\n    _this.root = null;\n    _this.state = {\n      open: !!_this.props.startOpen || !!_this.props.open,\n      childrenStyle: {}\n    };\n    _this.handleClick = _this.handleClick.bind(_this);\n    _this.handleKeydown = _this.handleKeydown.bind(_this);\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    return _this;\n  }\n\n  CollapsibleList.getDerivedStateFromProps = function (props, state) {\n    if (props.open !== undefined && props.open !== state.open) {\n      return __assign({}, state, {\n        open: props.open\n      });\n    }\n\n    return state;\n  };\n\n  CollapsibleList.prototype.componentDidMount = function () {\n    this.syncOpenState();\n  };\n\n  CollapsibleList.prototype.componentDidUpdate = function (prevProps, prevState) {\n    if (prevState.open !== this.state.open) {\n      this.syncOpenState();\n    }\n  };\n\n  CollapsibleList.prototype.syncOpenState = function () {\n    var _this = this;\n\n    var _a = this.props,\n        onOpen = _a.onOpen,\n        onClose = _a.onClose;\n    var childrenStyle = {\n      maxHeight: this.childContainer ? this.childContainer.offsetHeight + \"px\" : '0px'\n    };\n    this.setState({\n      childrenStyle: childrenStyle\n    }, function () {\n      if (_this.state.open) {\n        onOpen && onOpen();\n        setTimeout(function () {\n          if (_this.state.open) {\n            _this.setState({\n              childrenStyle: {\n                maxHeight: 'none'\n              }\n            });\n          }\n        }, 300);\n      } else {\n        onClose && onClose();\n        window.requestAnimationFrame(function () {\n          _this.setState({\n            childrenStyle: {}\n          });\n        });\n      }\n    });\n  };\n\n  CollapsibleList.prototype.correctFocus = function (back) {\n    var _this = this;\n\n    window.requestAnimationFrame(function () {\n      if (!_this.state.open && _this.root && _this.root.contains(document.activeElement)) {\n        var sibling = getNextSibling(_this.root, back);\n\n        if (possiblyFocusElement(sibling)) {\n          return;\n        }\n\n        if (sibling) {\n          var els = sibling.querySelectorAll('[tabindex]');\n\n          for (var i = 0; i < els.length; i++) {\n            if (possiblyFocusElement(els[i])) {\n              break;\n            }\n          }\n        }\n      }\n    });\n  };\n\n  CollapsibleList.prototype.toggleOpen = function (isOpen) {\n    this.setState({\n      open: isOpen\n    });\n  };\n\n  CollapsibleList.prototype.handleClick = function (evt) {\n    // call events that might have been on the handle\n    var handle = this.props.handle;\n    handle.props.onClick && handle.props.onClick(evt);\n    this.toggleOpen(!this.state.open);\n  };\n\n  CollapsibleList.prototype.handleKeydown = function (evt) {\n    // call events that might have been on the handle\n    var handle = this.props.handle;\n    handle.props.onKeyDown && handle.props.onKeyDown(evt);\n\n    switch (evt.which) {\n      case 13:\n        this.toggleOpen(!this.state.open);\n        return;\n\n      case 39:\n        this.toggleOpen(true);\n        return;\n\n      case 38:\n      case 40:\n      case 9:\n        var isBack = evt.shiftKey || evt.which === 38;\n        this.correctFocus(isBack);\n        return;\n\n      case 37:\n        this.toggleOpen(false);\n        return;\n\n      default:\n        break;\n    }\n  };\n\n  CollapsibleList.prototype.handleFocus = function (evt) {\n    if (!this.state.open && this.root && this.childContainer && this.childContainer.contains(document.activeElement)) {\n      var el = this.root.querySelector('.rmwc-collapsible-list__handle .mdc-list-item');\n      el && el.focus();\n    }\n  };\n\n  CollapsibleList.prototype.render = function () {\n    var _a;\n\n    var _this = this;\n\n    var _b = this.props,\n        children = _b.children,\n        handle = _b.handle,\n        onOpen = _b.onOpen,\n        onClose = _b.onClose,\n        openProp = _b.open,\n        startOpen = _b.startOpen,\n        rest = __rest(_b, [\"children\", \"handle\", \"onOpen\", \"onClose\", \"open\", \"startOpen\"]);\n\n    var _c = this.state,\n        open = _c.open,\n        childrenStyle = _c.childrenStyle;\n    return React.createElement(CollapsibleRoot, __assign({}, rest, {\n      onFocus: this.handleFocus,\n      ref: function (el) {\n        return _this.root = el;\n      },\n      className: classNames('rmwc-collapsible-list', (_a = {}, _a['rmwc-collapsible-list--open'] = open, _a))\n    }), React.createElement(\"div\", {\n      className: \"rmwc-collapsible-list__handle\"\n    }, React.cloneElement(handle, __assign({}, handle.props, {\n      onClick: this.handleClick,\n      onKeyDown: this.handleKeydown\n    }))), React.createElement(\"div\", {\n      className: \"rmwc-collapsible-list__children\",\n      style: childrenStyle\n    }, React.createElement(\"div\", {\n      className: \"rmwc-collapsible-list__children-inner\",\n      ref: function (el) {\n        return _this.childContainer = el;\n      }\n    }, children)));\n  };\n\n  CollapsibleList.displayName = 'CollapsibleList';\n  return CollapsibleList;\n}(React.Component);\n\nexport { CollapsibleList };","map":{"version":3,"sources":["/Users/alexlipnik/Documents/ec2/basic-store/node_modules/@rmwc/list/next/collapsible-list.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","componentFactory","classNames","CollapsibleRoot","displayName","possiblyFocusElement","el","tabIndex","getAttribute","Number","focus","getNextSibling","isBack","next","previousElementSibling","nextElementSibling","parentElement","CollapsibleList","_super","props","_this","childContainer","root","state","open","startOpen","childrenStyle","handleClick","bind","handleKeydown","handleFocus","getDerivedStateFromProps","undefined","componentDidMount","syncOpenState","componentDidUpdate","prevProps","prevState","_a","onOpen","onClose","maxHeight","offsetHeight","setState","setTimeout","window","requestAnimationFrame","correctFocus","back","contains","document","activeElement","sibling","els","querySelectorAll","toggleOpen","isOpen","evt","handle","onClick","onKeyDown","which","shiftKey","querySelector","render","_b","children","openProp","rest","_c","createElement","onFocus","ref","className","cloneElement","style","Component"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { componentFactory, classNames } from '@rmwc/base';\nvar CollapsibleRoot = componentFactory({\n    displayName: 'CollapsibleRoot',\n    classNames: ['rmwc-collapsible-list']\n});\nvar possiblyFocusElement = function (el) {\n    if (!el)\n        return false;\n    var tabIndex = el.getAttribute('tabindex');\n    if (tabIndex && Number(tabIndex) >= 0) {\n        el.focus();\n        return true;\n    }\n    return false;\n};\nvar getNextSibling = function (el, isBack) {\n    if (!el)\n        return null;\n    var next = isBack ? el.previousElementSibling : el.nextElementSibling;\n    if (next === null) {\n        return getNextSibling(el.parentElement, isBack);\n    }\n    return next;\n};\n/** A collapsible list component. */\nvar CollapsibleList = /** @class */ (function (_super) {\n    __extends(CollapsibleList, _super);\n    function CollapsibleList(props) {\n        var _this = _super.call(this, props) || this;\n        _this.childContainer = null;\n        _this.root = null;\n        _this.state = {\n            open: !!_this.props.startOpen || !!_this.props.open,\n            childrenStyle: {}\n        };\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleKeydown = _this.handleKeydown.bind(_this);\n        _this.handleFocus = _this.handleFocus.bind(_this);\n        return _this;\n    }\n    CollapsibleList.getDerivedStateFromProps = function (props, state) {\n        if (props.open !== undefined && props.open !== state.open) {\n            return __assign({}, state, { open: props.open });\n        }\n        return state;\n    };\n    CollapsibleList.prototype.componentDidMount = function () {\n        this.syncOpenState();\n    };\n    CollapsibleList.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (prevState.open !== this.state.open) {\n            this.syncOpenState();\n        }\n    };\n    CollapsibleList.prototype.syncOpenState = function () {\n        var _this = this;\n        var _a = this.props, onOpen = _a.onOpen, onClose = _a.onClose;\n        var childrenStyle = {\n            maxHeight: this.childContainer\n                ? this.childContainer.offsetHeight + \"px\"\n                : '0px'\n        };\n        this.setState({ childrenStyle: childrenStyle }, function () {\n            if (_this.state.open) {\n                onOpen && onOpen();\n                setTimeout(function () {\n                    if (_this.state.open) {\n                        _this.setState({\n                            childrenStyle: {\n                                maxHeight: 'none'\n                            }\n                        });\n                    }\n                }, 300);\n            }\n            else {\n                onClose && onClose();\n                window.requestAnimationFrame(function () {\n                    _this.setState({\n                        childrenStyle: {}\n                    });\n                });\n            }\n        });\n    };\n    CollapsibleList.prototype.correctFocus = function (back) {\n        var _this = this;\n        window.requestAnimationFrame(function () {\n            if (!_this.state.open &&\n                _this.root &&\n                _this.root.contains(document.activeElement)) {\n                var sibling = getNextSibling(_this.root, back);\n                if (possiblyFocusElement(sibling)) {\n                    return;\n                }\n                if (sibling) {\n                    var els = sibling.querySelectorAll('[tabindex]');\n                    for (var i = 0; i < els.length; i++) {\n                        if (possiblyFocusElement(els[i])) {\n                            break;\n                        }\n                    }\n                }\n            }\n        });\n    };\n    CollapsibleList.prototype.toggleOpen = function (isOpen) {\n        this.setState({ open: isOpen });\n    };\n    CollapsibleList.prototype.handleClick = function (evt) {\n        // call events that might have been on the handle\n        var handle = this.props.handle;\n        handle.props.onClick && handle.props.onClick(evt);\n        this.toggleOpen(!this.state.open);\n    };\n    CollapsibleList.prototype.handleKeydown = function (evt) {\n        // call events that might have been on the handle\n        var handle = this.props.handle;\n        handle.props.onKeyDown && handle.props.onKeyDown(evt);\n        switch (evt.which) {\n            case 13:\n                this.toggleOpen(!this.state.open);\n                return;\n            case 39:\n                this.toggleOpen(true);\n                return;\n            case 38:\n            case 40:\n            case 9:\n                var isBack = evt.shiftKey || evt.which === 38;\n                this.correctFocus(isBack);\n                return;\n            case 37:\n                this.toggleOpen(false);\n                return;\n            default:\n                break;\n        }\n    };\n    CollapsibleList.prototype.handleFocus = function (evt) {\n        if (!this.state.open &&\n            this.root &&\n            this.childContainer &&\n            this.childContainer.contains(document.activeElement)) {\n            var el = this.root.querySelector('.rmwc-collapsible-list__handle .mdc-list-item');\n            el && el.focus();\n        }\n    };\n    CollapsibleList.prototype.render = function () {\n        var _a;\n        var _this = this;\n        var _b = this.props, children = _b.children, handle = _b.handle, onOpen = _b.onOpen, onClose = _b.onClose, openProp = _b.open, startOpen = _b.startOpen, rest = __rest(_b, [\"children\", \"handle\", \"onOpen\", \"onClose\", \"open\", \"startOpen\"]);\n        var _c = this.state, open = _c.open, childrenStyle = _c.childrenStyle;\n        return (React.createElement(CollapsibleRoot, __assign({}, rest, { onFocus: this.handleFocus, ref: function (el) { return (_this.root = el); }, className: classNames('rmwc-collapsible-list', (_a = {},\n                _a['rmwc-collapsible-list--open'] = open,\n                _a)) }),\n            React.createElement(\"div\", { className: \"rmwc-collapsible-list__handle\" }, React.cloneElement(handle, __assign({}, handle.props, { onClick: this.handleClick, onKeyDown: this.handleKeydown }))),\n            React.createElement(\"div\", { className: \"rmwc-collapsible-list__children\", style: childrenStyle },\n                React.createElement(\"div\", { className: \"rmwc-collapsible-list__children-inner\", ref: function (el) { return (_this.childContainer = el); } }, children))));\n    };\n    CollapsibleList.displayName = 'CollapsibleList';\n    return CollapsibleList;\n}(React.Component));\nexport { CollapsibleList };\n"]},"metadata":{},"sourceType":"module"}