{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { MDCMenuFoundation } from '@material/menu';\nimport { List, ListItem } from '@rmwc/list';\nimport { componentFactory, FoundationComponent, closest } from '@rmwc/base';\nimport { MenuSurface, MenuSurfaceAnchor } from './menu-surface';\n/** A wrapper for menu items */\n\nexport var MenuItems = componentFactory({\n  displayName: 'MenuItems',\n  tag: List,\n  classNames: ['mdc-list mdc-menu__items'],\n  defaultProps: {\n    role: 'menu'\n  }\n});\n/** This is just the ListItem component exported from the Menu module for convenience. You can use `ListItem` or `SimpleListItem` components from the List section as long as you add `role=\"menuitem\"` and `tabIndex=\"0\"` to the components for accessibility. */\n\nexport var MenuItem = componentFactory({\n  displayName: 'MenuItem',\n  tag: ListItem,\n  defaultProps: {\n    role: 'menuitem',\n    tabIndex: 0\n  }\n});\n\nvar isMenuItems = function (child) {\n  return React.isValidElement(child) && typeof child.type === 'object' && ('displayName' in child.type && child.type.displayName) === 'MenuItems';\n};\n/** A menu component for displaying lists items. */\n\n\nvar Menu =\n/** @class */\nfunction (_super) {\n  __extends(Menu, _super);\n\n  function Menu(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.list = null;\n    _this.menuSurface = null;\n    _this.handleKeydown = _this.handleKeydown.bind(_this);\n    _this.handleClick = _this.handleClick.bind(_this);\n    _this.handleOpen = _this.handleOpen.bind(_this);\n    return _this;\n  }\n\n  Object.defineProperty(Menu.prototype, \"items\", {\n    get: function () {\n      return this.list ? this.list.listElements : [];\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Menu.prototype.hoistMenuToBody = function () {\n    this.menuSurface && this.menuSurface.hoistMenuToBody();\n  };\n\n  Menu.prototype.setAnchorCorner = function (corner) {\n    this.menuSurface && this.menuSurface.setAnchorCorner(corner);\n  };\n\n  Menu.prototype.setAnchorElement = function (element) {\n    this.menuSurface && (this.menuSurface.anchorElement = element);\n  };\n\n  Menu.prototype.getDefaultFoundation = function () {\n    var _this = this;\n\n    return new MDCMenuFoundation({\n      addClassToElementAtIndex: function (index, className) {\n        var list = _this.items;\n        list[index].classList.add(className);\n      },\n      removeClassFromElementAtIndex: function (index, className) {\n        var list = _this.items;\n        list[index].classList.remove(className);\n      },\n      addAttributeToElementAtIndex: function (index, attr, value) {\n        var list = _this.items;\n        list[index].setAttribute(attr, value);\n      },\n      removeAttributeFromElementAtIndex: function (index, attr) {\n        var list = _this.items;\n        list[index].removeAttribute(attr);\n      },\n      elementContainsClass: function (element, className) {\n        return element.classList.contains(className);\n      },\n      closeSurface: function () {\n        _this.menuSurface && (_this.menuSurface.open = false);\n      },\n      getElementIndex: function (element) {\n        return _this.items.indexOf(element);\n      },\n      notifySelected: function (evtData) {\n        return _this.emit('onSelect', {\n          index: evtData.index,\n          item: _this.items[evtData.index]\n        });\n      },\n      getMenuItemCount: function () {\n        return _this.items.length;\n      },\n      focusItemAtIndex: function (index) {\n        return _this.items[index].focus();\n      },\n      focusListRoot: function () {\n        return _this.list && _this.list.root && _this.list.root.ref && _this.list.root.ref.focus();\n      }\n    });\n  };\n\n  Menu.prototype.handleClick = function (evt) {\n    this.props.onClick && this.props.onClick(evt); // fixes an issue with nested span element on list items\n\n    var el = closest(evt.target, '.mdc-list-item');\n    el && this.foundation.handleItemAction(el);\n  };\n\n  Menu.prototype.handleKeydown = function (evt) {\n    this.props.onKeyDown && this.props.onKeyDown(evt);\n    this.foundation.handleKeydown(evt); // Jump through some hoops to find out\n    // that we are selecting the list item\n    // This is instead of trying to listen to an event on the list item\n    // which is what MDC does\n\n    if (evt.which === 13 && evt.target instanceof Element && evt.target.classList.contains(List.cssClasses.LIST_ITEM_CLASS)) {\n      this.foundation.handleItemAction(evt.target);\n    }\n  };\n\n  Menu.prototype.handleOpen = function (evt) {\n    var list = this.items;\n\n    if (this.props.focusOnOpen && list.length > 0 && !list.some(function (el) {\n      return el === document.activeElement;\n    })) {\n      list[0].focus();\n    }\n\n    this.props.onOpen && this.props.onOpen(evt);\n  };\n\n  Menu.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        children = _a.children,\n        focusOnOpen = _a.focusOnOpen,\n        rest = __rest(_a, [\"children\", \"focusOnOpen\"]);\n\n    var needsMenuItemsWrapper = (React.Children.map(children, isMenuItems) || []).every(function (val) {\n      return val === false;\n    });\n    return React.createElement(MenuSurface, __assign({}, rest, {\n      \"aria-hidden\": !rest.open,\n      className: \"mdc-menu \" + (rest.className || ''),\n      onKeyDown: this.handleKeydown,\n      onClick: this.handleClick,\n      onOpen: this.handleOpen,\n      ref: function (menuSurfaceApi) {\n        return _this.menuSurface = menuSurfaceApi;\n      }\n    }), needsMenuItemsWrapper ? React.createElement(MenuItems, {\n      ref: function (listApi) {\n        return _this.list = listApi;\n      }\n    }, children) : React.Children.map(children, function (child) {\n      if (isMenuItems(child)) {\n        return React.cloneElement(child, {\n          ref: function (listApi) {\n            return _this.list = listApi;\n          }\n        });\n      }\n\n      return child;\n    }));\n  };\n\n  Menu.displayName = 'Menu';\n  Menu.defaultProps = {\n    focusOnOpen: true\n  };\n  return Menu;\n}(FoundationComponent);\n\nexport { Menu };\n\nvar simpleMenuFactory = function (MenuComponent) {\n  var _a;\n\n  return _a =\n  /** @class */\n  function (_super) {\n    __extends(class_1, _super);\n\n    function class_1() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n\n      _this.state = {\n        open: !!_this.props.open\n      };\n      return _this;\n    }\n\n    class_1.prototype.componentDidMount = function () {\n      this.syncWithOpenProp(this.props.open);\n    };\n\n    class_1.prototype.componentDidUpdate = function (nextProps) {\n      this.syncWithOpenProp(nextProps.open);\n    };\n\n    class_1.prototype.syncWithOpenProp = function (open) {\n      if (open !== undefined && this.state.open !== open) {\n        this.setState({\n          open: open\n        });\n      }\n    };\n\n    class_1.prototype.render = function () {\n      var _this = this;\n\n      var _a = this.props,\n          handle = _a.handle,\n          onClose = _a.onClose,\n          children = _a.children,\n          _b = _a.rootProps,\n          rootProps = _b === void 0 ? {} : _b,\n          open = _a.open,\n          rest = __rest(_a, [\"handle\", \"onClose\", \"children\", \"rootProps\", \"open\"]);\n\n      var wrappedHandle = React.cloneElement(handle, __assign({}, handle.props, {\n        onClick: function (evt) {\n          _this.setState({\n            open: !_this.state.open\n          });\n\n          if (handle.props.onClick) {\n            handle.props.onClick(evt);\n          }\n        }\n      }));\n\n      var wrappedOnClose = function (evt) {\n        _this.setState({\n          open: !!open || false\n        });\n\n        if (onClose) {\n          onClose(evt);\n        }\n      };\n\n      return React.createElement(MenuSurfaceAnchor, __assign({}, rootProps), React.createElement(MenuComponent, __assign({}, rest, {\n        onClose: wrappedOnClose,\n        open: this.state.open\n      }), children), wrappedHandle);\n    };\n\n    return class_1;\n  }(React.Component), _a.displayName = 'Simple' + MenuComponent.displayName, _a;\n};\n/** A Simplified menu component that allows you to pass a handle element and will automatically control the open state and add a MenuSurfaceAnchor */\n\n\nexport var SimpleMenu = simpleMenuFactory(Menu);\n/** The same as SimpleMenu, but a generic surface. */\n\nexport var SimpleMenuSurface = simpleMenuFactory(MenuSurface);","map":{"version":3,"sources":["/Users/alexlipnik/Documents/ec2/basic-store/node_modules/@rmwc/menu/next/menu.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","MDCMenuFoundation","List","ListItem","componentFactory","FoundationComponent","closest","MenuSurface","MenuSurfaceAnchor","MenuItems","displayName","tag","classNames","defaultProps","role","MenuItem","tabIndex","isMenuItems","child","isValidElement","type","Menu","_super","props","_this","list","menuSurface","handleKeydown","bind","handleClick","handleOpen","defineProperty","get","listElements","enumerable","configurable","hoistMenuToBody","setAnchorCorner","corner","setAnchorElement","element","anchorElement","getDefaultFoundation","addClassToElementAtIndex","index","className","items","classList","add","removeClassFromElementAtIndex","remove","addAttributeToElementAtIndex","attr","value","setAttribute","removeAttributeFromElementAtIndex","removeAttribute","elementContainsClass","contains","closeSurface","open","getElementIndex","notifySelected","evtData","emit","item","getMenuItemCount","focusItemAtIndex","focus","focusListRoot","root","ref","evt","onClick","el","target","foundation","handleItemAction","onKeyDown","which","Element","cssClasses","LIST_ITEM_CLASS","focusOnOpen","some","document","activeElement","onOpen","render","_a","children","rest","needsMenuItemsWrapper","Children","map","every","val","createElement","menuSurfaceApi","listApi","cloneElement","simpleMenuFactory","MenuComponent","class_1","state","componentDidMount","syncWithOpenProp","componentDidUpdate","nextProps","undefined","setState","handle","onClose","_b","rootProps","wrappedHandle","wrappedOnClose","Component","SimpleMenu","SimpleMenuSurface"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { MDCMenuFoundation } from '@material/menu';\nimport { List, ListItem } from '@rmwc/list';\nimport { componentFactory, FoundationComponent, closest } from '@rmwc/base';\nimport { MenuSurface, MenuSurfaceAnchor } from './menu-surface';\n/** A wrapper for menu items */\nexport var MenuItems = componentFactory({\n    displayName: 'MenuItems',\n    tag: List,\n    classNames: ['mdc-list mdc-menu__items'],\n    defaultProps: {\n        role: 'menu'\n    }\n});\n/** This is just the ListItem component exported from the Menu module for convenience. You can use `ListItem` or `SimpleListItem` components from the List section as long as you add `role=\"menuitem\"` and `tabIndex=\"0\"` to the components for accessibility. */\nexport var MenuItem = componentFactory({\n    displayName: 'MenuItem',\n    tag: ListItem,\n    defaultProps: {\n        role: 'menuitem',\n        tabIndex: 0\n    }\n});\nvar isMenuItems = function (child) {\n    return React.isValidElement(child) &&\n        typeof child.type === 'object' &&\n        ('displayName' in child.type && child.type.displayName) ===\n            'MenuItems';\n};\n/** A menu component for displaying lists items. */\nvar Menu = /** @class */ (function (_super) {\n    __extends(Menu, _super);\n    function Menu(props) {\n        var _this = _super.call(this, props) || this;\n        _this.list = null;\n        _this.menuSurface = null;\n        _this.handleKeydown = _this.handleKeydown.bind(_this);\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleOpen = _this.handleOpen.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(Menu.prototype, \"items\", {\n        get: function () {\n            return this.list ? this.list.listElements : [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Menu.prototype.hoistMenuToBody = function () {\n        this.menuSurface && this.menuSurface.hoistMenuToBody();\n    };\n    Menu.prototype.setAnchorCorner = function (corner) {\n        this.menuSurface && this.menuSurface.setAnchorCorner(corner);\n    };\n    Menu.prototype.setAnchorElement = function (element) {\n        this.menuSurface && (this.menuSurface.anchorElement = element);\n    };\n    Menu.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        return new MDCMenuFoundation({\n            addClassToElementAtIndex: function (index, className) {\n                var list = _this.items;\n                list[index].classList.add(className);\n            },\n            removeClassFromElementAtIndex: function (index, className) {\n                var list = _this.items;\n                list[index].classList.remove(className);\n            },\n            addAttributeToElementAtIndex: function (index, attr, value) {\n                var list = _this.items;\n                list[index].setAttribute(attr, value);\n            },\n            removeAttributeFromElementAtIndex: function (index, attr) {\n                var list = _this.items;\n                list[index].removeAttribute(attr);\n            },\n            elementContainsClass: function (element, className) {\n                return element.classList.contains(className);\n            },\n            closeSurface: function () {\n                _this.menuSurface && (_this.menuSurface.open = false);\n            },\n            getElementIndex: function (element) {\n                return _this.items.indexOf(element);\n            },\n            notifySelected: function (evtData) {\n                return _this.emit('onSelect', {\n                    index: evtData.index,\n                    item: _this.items[evtData.index]\n                });\n            },\n            getMenuItemCount: function () { return _this.items.length; },\n            focusItemAtIndex: function (index) { return _this.items[index].focus(); },\n            focusListRoot: function () {\n                return _this.list &&\n                    _this.list.root &&\n                    _this.list.root.ref &&\n                    _this.list.root.ref.focus();\n            }\n        });\n    };\n    Menu.prototype.handleClick = function (evt) {\n        this.props.onClick && this.props.onClick(evt);\n        // fixes an issue with nested span element on list items\n        var el = closest(evt.target, '.mdc-list-item');\n        el && this.foundation.handleItemAction(el);\n    };\n    Menu.prototype.handleKeydown = function (evt) {\n        this.props.onKeyDown && this.props.onKeyDown(evt);\n        this.foundation.handleKeydown(evt);\n        // Jump through some hoops to find out\n        // that we are selecting the list item\n        // This is instead of trying to listen to an event on the list item\n        // which is what MDC does\n        if (evt.which === 13 &&\n            evt.target instanceof Element &&\n            evt.target.classList.contains(List.cssClasses.LIST_ITEM_CLASS)) {\n            this.foundation.handleItemAction(evt.target);\n        }\n    };\n    Menu.prototype.handleOpen = function (evt) {\n        var list = this.items;\n        if (this.props.focusOnOpen &&\n            list.length > 0 &&\n            !list.some(function (el) { return el === document.activeElement; })) {\n            list[0].focus();\n        }\n        this.props.onOpen && this.props.onOpen(evt);\n    };\n    Menu.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, focusOnOpen = _a.focusOnOpen, rest = __rest(_a, [\"children\", \"focusOnOpen\"]);\n        var needsMenuItemsWrapper = (React.Children.map(children, isMenuItems) || []).every(function (val) { return val === false; });\n        return (React.createElement(MenuSurface, __assign({}, rest, { \"aria-hidden\": !rest.open, className: \"mdc-menu \" + (rest.className || ''), onKeyDown: this.handleKeydown, onClick: this.handleClick, onOpen: this.handleOpen, ref: function (menuSurfaceApi) {\n                return (_this.menuSurface = menuSurfaceApi);\n            } }), needsMenuItemsWrapper ? (React.createElement(MenuItems, { ref: function (listApi) { return (_this.list = listApi); } }, children)) : (React.Children.map(children, function (child) {\n            if (isMenuItems(child)) {\n                return React.cloneElement(child, {\n                    ref: function (listApi) { return (_this.list = listApi); }\n                });\n            }\n            return child;\n        }))));\n    };\n    Menu.displayName = 'Menu';\n    Menu.defaultProps = {\n        focusOnOpen: true\n    };\n    return Menu;\n}(FoundationComponent));\nexport { Menu };\nvar simpleMenuFactory = function (MenuComponent) { var _a; return _a = /** @class */ (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.state = {\n                open: !!_this.props.open\n            };\n            return _this;\n        }\n        class_1.prototype.componentDidMount = function () {\n            this.syncWithOpenProp(this.props.open);\n        };\n        class_1.prototype.componentDidUpdate = function (nextProps) {\n            this.syncWithOpenProp(nextProps.open);\n        };\n        class_1.prototype.syncWithOpenProp = function (open) {\n            if (open !== undefined && this.state.open !== open) {\n                this.setState({ open: open });\n            }\n        };\n        class_1.prototype.render = function () {\n            var _this = this;\n            var _a = this.props, handle = _a.handle, onClose = _a.onClose, children = _a.children, _b = _a.rootProps, rootProps = _b === void 0 ? {} : _b, open = _a.open, rest = __rest(_a, [\"handle\", \"onClose\", \"children\", \"rootProps\", \"open\"]);\n            var wrappedHandle = React.cloneElement(handle, __assign({}, handle.props, { onClick: function (evt) {\n                    _this.setState({ open: !_this.state.open });\n                    if (handle.props.onClick) {\n                        handle.props.onClick(evt);\n                    }\n                } }));\n            var wrappedOnClose = function (evt) {\n                _this.setState({ open: !!open || false });\n                if (onClose) {\n                    onClose(evt);\n                }\n            };\n            return (React.createElement(MenuSurfaceAnchor, __assign({}, rootProps),\n                React.createElement(MenuComponent, __assign({}, rest, { onClose: wrappedOnClose, open: this.state.open }), children),\n                wrappedHandle));\n        };\n        return class_1;\n    }(React.Component)),\n    _a.displayName = 'Simple' + MenuComponent.displayName,\n    _a; };\n/** A Simplified menu component that allows you to pass a handle element and will automatically control the open state and add a MenuSurfaceAnchor */\nexport var SimpleMenu = simpleMenuFactory(Menu);\n/** The same as SimpleMenu, but a generic surface. */\nexport var SimpleMenuSurface = simpleMenuFactory(MenuSurface);\n"]},"metadata":{},"sourceType":"module"}