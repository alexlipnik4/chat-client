{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { MDCDialogFoundation } from '@material/dialog';\nimport { FoundationComponent, componentFactory, createFocusTrap, closest, matches } from '@rmwc/base';\nimport { Button } from '@rmwc/button';\n\nvar isScrollable = function (el) {\n  return el.scrollHeight > el.offsetHeight;\n};\n\nvar areTopsMisaligned = function (els) {\n  var tops = new Set();\n  [].forEach.call(els, function (el) {\n    return tops.add(el.offsetTop);\n  });\n  return tops.size > 1;\n};\n\nvar DialogRoot = componentFactory({\n  displayName: 'DialogRoot',\n  defaultProps: {\n    role: 'alertdialog',\n    'aria-modal': true\n  },\n  classNames: ['mdc-dialog']\n});\n\nvar DialogScrim =\n/** @class */\nfunction (_super) {\n  __extends(DialogScrim, _super);\n\n  function DialogScrim() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DialogScrim.prototype.shouldComponentUpdate = function (nextProps) {\n    return this.props.disableInteraction !== nextProps.disableInteraction;\n  };\n\n  DialogScrim.prototype.render = function () {\n    var style = this.props.disableInteraction ? {\n      pointerEvents: 'none'\n    } : {};\n    return React.createElement(\"div\", {\n      className: \"mdc-dialog__scrim\",\n      style: style\n    });\n  };\n\n  return DialogScrim;\n}(React.Component);\n/** The Dialog title. */\n\n\nexport var DialogTitle = componentFactory({\n  displayName: 'DialogTitle',\n  tag: 'h2',\n  classNames: ['mdc-dialog__title']\n});\n/** The Dialog content. */\n\nexport var DialogContent = componentFactory({\n  displayName: 'DialogContent',\n  classNames: ['mdc-dialog__content']\n});\n/** Actions container for the Dialog. */\n\nexport var DialogActions = componentFactory({\n  displayName: 'DialogActions',\n  classNames: ['mdc-dialog__actions']\n});\n/** Action buttons for the Dialog. */\n\nvar DialogButton =\n/** @class */\nfunction (_super) {\n  __extends(DialogButton, _super);\n\n  function DialogButton() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DialogButton.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        _c = _b.action,\n        action = _c === void 0 ? '' : _c,\n        className = _b.className,\n        isDefaultAction = _b.isDefaultAction,\n        rest = __rest(_b, [\"action\", \"className\", \"isDefaultAction\"]);\n\n    var defaultProp = !!isDefaultAction ? (_a = {}, _a[MDCDialogFoundation.strings.BUTTON_DEFAULT_ATTRIBUTE] = true, _a) : {};\n    return React.createElement(Button, __assign({}, rest, defaultProp, {\n      \"data-mdc-dialog-action\": action,\n      className: [className, 'mdc-dialog__button'].filter(Boolean).join(' ')\n    }));\n  };\n\n  DialogButton.displayName = 'DialogButton';\n  return DialogButton;\n}(React.Component);\n\nexport { DialogButton };\n/** A Dialog component. */\n\nvar Dialog =\n/** @class */\nfunction (_super) {\n  __extends(Dialog, _super);\n\n  function Dialog(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.root = _this.createElement('root');\n    _this.container = null;\n    _this.content = null;\n    _this.buttons = null;\n    _this.defaultButton = null;\n    _this.focusTrap = null;\n\n    _this.handleDocumentKeydown = function () {};\n\n    _this.handleClick = _this.handleClick.bind(_this);\n    _this.handleKeydown = _this.handleKeydown.bind(_this);\n    return _this;\n  }\n\n  Dialog.prototype.open = function () {\n    var _this = this;\n\n    if (!this.foundation.isOpen()) {\n      document.addEventListener('keydown', this.handleDocumentKeydown);\n      this.foundation.open(); // Don't like this fix\n      // This corrects an issue where the default button was stealing focus\n      // When something else in the dialog should have it\n\n      setTimeout(function () {\n        if (_this.defaultButton && document.activeElement !== _this.defaultButton && document.activeElement && document.activeElement.classList.contains('mdc-dialog__button')) {\n          _this.defaultButton.focus();\n        }\n      }, 200);\n    }\n  };\n\n  Dialog.prototype.close = function () {\n    if (this.foundation.isOpen()) {\n      document.removeEventListener('keydown', this.handleDocumentKeydown);\n      this.foundation.close();\n    }\n  };\n\n  Dialog.prototype.componentDidMount = function () {\n    _super.prototype.componentDidMount.call(this);\n\n    this.container = this.root.ref && this.root.ref.querySelector(MDCDialogFoundation.strings.CONTAINER_SELECTOR);\n    this.content = this.root.ref && this.root.ref.querySelector(MDCDialogFoundation.strings.CONTENT_SELECTOR);\n    this.buttons = this.root.ref && [].slice.call(this.root.ref.querySelectorAll(MDCDialogFoundation.strings.BUTTON_SELECTOR));\n    this.defaultButton = this.root.ref && this.root.ref.querySelector(\"[\" + MDCDialogFoundation.strings.BUTTON_DEFAULT_ATTRIBUTE + \"]\");\n    this.container && (this.focusTrap = createFocusTrap(this.container, {\n      initialFocus: undefined,\n      escapeDeactivates: false,\n      clickOutsideDeactivates: true\n    }));\n    this.handleDocumentKeydown = this.foundation.handleDocumentKeydown.bind(this.foundation);\n    document.addEventListener('keydown', this.handleDocumentKeydown);\n  };\n\n  Dialog.prototype.componentWillUnmount = function () {\n    _super.prototype.componentWillUnmount.call(this);\n\n    document.removeEventListener('keydown', this.handleDocumentKeydown);\n  };\n\n  Dialog.prototype.sync = function (props) {\n    if (this.props.open) {\n      this.open();\n    } else {\n      this.close();\n    }\n  };\n\n  Dialog.prototype.getDefaultFoundation = function () {\n    var _this = this;\n\n    return new MDCDialogFoundation({\n      addClass: function (className) {\n        return _this.root.addClass(className);\n      },\n      removeClass: function (className) {\n        return _this.root.removeClass(className);\n      },\n      hasClass: function (className) {\n        return _this.root.hasClass(className);\n      },\n      addBodyClass: function (className) {\n        return document.body && document.body.classList.add(className);\n      },\n      removeBodyClass: function (className) {\n        return document.body && document.body.classList.remove(className);\n      },\n      eventTargetMatches: function (target, selector) {\n        return matches(target, selector);\n      },\n      trapFocus: function () {\n        try {\n          // we dont always have an item to focus\n          // so we try catch it\n          _this.focusTrap && _this.focusTrap.activate();\n        } catch (err) {}\n      },\n      releaseFocus: function () {\n        return _this.focusTrap && _this.focusTrap.deactivate();\n      },\n      isContentScrollable: function () {\n        return !!_this.content && isScrollable(_this.content);\n      },\n      areButtonsStacked: function () {\n        return areTopsMisaligned(_this.buttons);\n      },\n      getActionFromEvent: function (evt) {\n        var element = closest(evt.target, \"[\" + MDCDialogFoundation.strings.ACTION_ATTRIBUTE + \"]\");\n        return element && element.getAttribute(MDCDialogFoundation.strings.ACTION_ATTRIBUTE);\n      },\n      clickDefaultButton: function () {\n        if (_this.defaultButton) {\n          _this.defaultButton.click();\n        }\n      },\n      reverseButtons: function () {\n        _this.buttons && _this.buttons.reverse();\n        _this.buttons && _this.buttons.forEach(function (button) {\n          return button.parentElement && button.parentElement.appendChild(button);\n        });\n      },\n      notifyOpening: function () {\n        _this.emit('onOpen', {});\n\n        _this.props.onStateChange && _this.props.onStateChange('opening');\n      },\n      notifyOpened: function () {\n        _this.emit('onOpened', {});\n\n        _this.props.onStateChange && _this.props.onStateChange('opened');\n      },\n      notifyClosing: function (action) {\n        _this.emit('onClose', action ? {\n          action: action\n        } : {});\n\n        _this.props.onStateChange && _this.props.onStateChange('closing');\n      },\n      notifyClosed: function (action) {\n        _this.emit('onClosed', action ? {\n          action: action\n        } : {});\n\n        _this.props.onStateChange && _this.props.onStateChange('closed');\n      },\n      getInitialFocusEl: function () {\n        return document.querySelector(\"[\" + MDCDialogFoundation.strings.INITIAL_FOCUS_ATTRIBUTE + \"]\");\n      }\n    });\n  };\n\n  Dialog.prototype.handleClick = function (evt) {\n    this.props.onClick && this.props.onClick(evt);\n    return this.foundation.handleClick(evt);\n  };\n\n  Dialog.prototype.handleKeydown = function (evt) {\n    this.props.onKeyDown && this.props.onKeyDown(evt);\n    return this.foundation.handleKeydown(evt);\n  };\n\n  Dialog.prototype.render = function () {\n    var _a = this.props,\n        children = _a.children,\n        open = _a.open,\n        onOpen = _a.onOpen,\n        onClose = _a.onClose,\n        onStateChange = _a.onStateChange,\n        preventOutsideDismiss = _a.preventOutsideDismiss,\n        rest = __rest(_a, [\"children\", \"open\", \"onOpen\", \"onClose\", \"onStateChange\", \"preventOutsideDismiss\"]);\n\n    return React.createElement(DialogRoot, __assign({}, this.root.props(rest), {\n      ref: this.root.setRef,\n      onClick: this.handleClick,\n      onKeyDown: this.handleKeydown\n    }), React.createElement(\"div\", {\n      className: \"mdc-dialog__container\"\n    }, React.createElement(\"div\", {\n      className: \"mdc-dialog__surface\"\n    }, children)), React.createElement(DialogScrim, {\n      disableInteraction: preventOutsideDismiss\n    }));\n  };\n\n  Dialog.displayName = 'Dialog';\n  return Dialog;\n}(FoundationComponent);\n\nexport { Dialog };\n/** A SimpleDialog component for ease of use. */\n\nvar SimpleDialog =\n/** @class */\nfunction (_super) {\n  __extends(SimpleDialog, _super);\n\n  function SimpleDialog() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SimpleDialog.prototype.render = function () {\n    var _a = this.props,\n        title = _a.title,\n        header = _a.header,\n        body = _a.body,\n        footer = _a.footer,\n        acceptLabel = _a.acceptLabel,\n        cancelLabel = _a.cancelLabel,\n        children = _a.children,\n        open = _a.open,\n        rest = __rest(_a, [\"title\", \"header\", \"body\", \"footer\", \"acceptLabel\", \"cancelLabel\", \"children\", \"open\"]);\n\n    return React.createElement(Dialog, __assign({\n      open: open\n    }, rest), (!!title || !!header) && React.createElement(DialogTitle, null, !!title && title, !!header && header), (!!body || children) && React.createElement(DialogContent, null, body, children), (!!cancelLabel || !!acceptLabel || !!footer) && React.createElement(DialogActions, null, !!footer && footer, !!cancelLabel && React.createElement(DialogButton, {\n      action: \"close\"\n    }, cancelLabel), !!acceptLabel && React.createElement(DialogButton, {\n      action: \"accept\",\n      isDefaultAction: true\n    }, acceptLabel)));\n  };\n\n  SimpleDialog.displayName = 'SimpleDialog';\n  SimpleDialog.defaultProps = {\n    title: undefined,\n    header: undefined,\n    body: undefined,\n    footer: undefined,\n    acceptLabel: 'Accept',\n    cancelLabel: 'Cancel',\n    open: false,\n    children: undefined\n  };\n  return SimpleDialog;\n}(React.Component);\n\nexport { SimpleDialog };","map":{"version":3,"sources":["/Users/alexlipnik/Documents/ec2/basic-store/node_modules/@rmwc/dialog/next/dialog.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","MDCDialogFoundation","FoundationComponent","componentFactory","createFocusTrap","closest","matches","Button","isScrollable","el","scrollHeight","offsetHeight","areTopsMisaligned","els","tops","Set","forEach","add","offsetTop","size","DialogRoot","displayName","defaultProps","role","classNames","DialogScrim","_super","shouldComponentUpdate","nextProps","props","disableInteraction","render","style","pointerEvents","createElement","className","Component","DialogTitle","tag","DialogContent","DialogActions","DialogButton","_a","_b","_c","action","isDefaultAction","rest","defaultProp","strings","BUTTON_DEFAULT_ATTRIBUTE","filter","Boolean","join","Dialog","_this","root","container","content","buttons","defaultButton","focusTrap","handleDocumentKeydown","handleClick","bind","handleKeydown","open","foundation","isOpen","document","addEventListener","setTimeout","activeElement","classList","contains","focus","close","removeEventListener","componentDidMount","ref","querySelector","CONTAINER_SELECTOR","CONTENT_SELECTOR","slice","querySelectorAll","BUTTON_SELECTOR","initialFocus","undefined","escapeDeactivates","clickOutsideDeactivates","componentWillUnmount","sync","getDefaultFoundation","addClass","removeClass","hasClass","addBodyClass","body","removeBodyClass","remove","eventTargetMatches","target","selector","trapFocus","activate","err","releaseFocus","deactivate","isContentScrollable","areButtonsStacked","getActionFromEvent","evt","element","ACTION_ATTRIBUTE","getAttribute","clickDefaultButton","click","reverseButtons","reverse","button","parentElement","appendChild","notifyOpening","emit","onStateChange","notifyOpened","notifyClosing","notifyClosed","getInitialFocusEl","INITIAL_FOCUS_ATTRIBUTE","onClick","onKeyDown","children","onOpen","onClose","preventOutsideDismiss","setRef","SimpleDialog","title","header","footer","acceptLabel","cancelLabel"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { MDCDialogFoundation } from '@material/dialog';\nimport { FoundationComponent, componentFactory, createFocusTrap, closest, matches } from '@rmwc/base';\nimport { Button } from '@rmwc/button';\nvar isScrollable = function (el) {\n    return el.scrollHeight > el.offsetHeight;\n};\nvar areTopsMisaligned = function (els) {\n    var tops = new Set();\n    [].forEach.call(els, function (el) { return tops.add(el.offsetTop); });\n    return tops.size > 1;\n};\nvar DialogRoot = componentFactory({\n    displayName: 'DialogRoot',\n    defaultProps: {\n        role: 'alertdialog',\n        'aria-modal': true\n    },\n    classNames: ['mdc-dialog']\n});\nvar DialogScrim = /** @class */ (function (_super) {\n    __extends(DialogScrim, _super);\n    function DialogScrim() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DialogScrim.prototype.shouldComponentUpdate = function (nextProps) {\n        return this.props.disableInteraction !== nextProps.disableInteraction;\n    };\n    DialogScrim.prototype.render = function () {\n        var style = this.props.disableInteraction\n            ? { pointerEvents: 'none' }\n            : {};\n        return React.createElement(\"div\", { className: \"mdc-dialog__scrim\", style: style });\n    };\n    return DialogScrim;\n}(React.Component));\n/** The Dialog title. */\nexport var DialogTitle = componentFactory({\n    displayName: 'DialogTitle',\n    tag: 'h2',\n    classNames: ['mdc-dialog__title']\n});\n/** The Dialog content. */\nexport var DialogContent = componentFactory({\n    displayName: 'DialogContent',\n    classNames: ['mdc-dialog__content']\n});\n/** Actions container for the Dialog. */\nexport var DialogActions = componentFactory({\n    displayName: 'DialogActions',\n    classNames: ['mdc-dialog__actions']\n});\n/** Action buttons for the Dialog. */\nvar DialogButton = /** @class */ (function (_super) {\n    __extends(DialogButton, _super);\n    function DialogButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DialogButton.prototype.render = function () {\n        var _a;\n        var _b = this.props, _c = _b.action, action = _c === void 0 ? '' : _c, className = _b.className, isDefaultAction = _b.isDefaultAction, rest = __rest(_b, [\"action\", \"className\", \"isDefaultAction\"]);\n        var defaultProp = !!isDefaultAction\n            ? (_a = {}, _a[MDCDialogFoundation.strings.BUTTON_DEFAULT_ATTRIBUTE] = true, _a) : {};\n        return (React.createElement(Button, __assign({}, rest, defaultProp, { \"data-mdc-dialog-action\": action, className: [className, 'mdc-dialog__button'].filter(Boolean).join(' ') })));\n    };\n    DialogButton.displayName = 'DialogButton';\n    return DialogButton;\n}(React.Component));\nexport { DialogButton };\n/** A Dialog component. */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    function Dialog(props) {\n        var _this = _super.call(this, props) || this;\n        _this.root = _this.createElement('root');\n        _this.container = null;\n        _this.content = null;\n        _this.buttons = null;\n        _this.defaultButton = null;\n        _this.focusTrap = null;\n        _this.handleDocumentKeydown = function () { };\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleKeydown = _this.handleKeydown.bind(_this);\n        return _this;\n    }\n    Dialog.prototype.open = function () {\n        var _this = this;\n        if (!this.foundation.isOpen()) {\n            document.addEventListener('keydown', this.handleDocumentKeydown);\n            this.foundation.open();\n            // Don't like this fix\n            // This corrects an issue where the default button was stealing focus\n            // When something else in the dialog should have it\n            setTimeout(function () {\n                if (_this.defaultButton &&\n                    document.activeElement !== _this.defaultButton &&\n                    document.activeElement &&\n                    document.activeElement.classList.contains('mdc-dialog__button')) {\n                    _this.defaultButton.focus();\n                }\n            }, 200);\n        }\n    };\n    Dialog.prototype.close = function () {\n        if (this.foundation.isOpen()) {\n            document.removeEventListener('keydown', this.handleDocumentKeydown);\n            this.foundation.close();\n        }\n    };\n    Dialog.prototype.componentDidMount = function () {\n        _super.prototype.componentDidMount.call(this);\n        this.container =\n            this.root.ref &&\n                this.root.ref.querySelector(MDCDialogFoundation.strings.CONTAINER_SELECTOR);\n        this.content =\n            this.root.ref &&\n                this.root.ref.querySelector(MDCDialogFoundation.strings.CONTENT_SELECTOR);\n        this.buttons =\n            this.root.ref &&\n                [].slice.call(this.root.ref.querySelectorAll(MDCDialogFoundation.strings.BUTTON_SELECTOR));\n        this.defaultButton =\n            this.root.ref &&\n                this.root.ref.querySelector(\"[\" + MDCDialogFoundation.strings.BUTTON_DEFAULT_ATTRIBUTE + \"]\");\n        this.container &&\n            (this.focusTrap = createFocusTrap(this.container, {\n                initialFocus: undefined,\n                escapeDeactivates: false,\n                clickOutsideDeactivates: true\n            }));\n        this.handleDocumentKeydown = this.foundation.handleDocumentKeydown.bind(this.foundation);\n        document.addEventListener('keydown', this.handleDocumentKeydown);\n    };\n    Dialog.prototype.componentWillUnmount = function () {\n        _super.prototype.componentWillUnmount.call(this);\n        document.removeEventListener('keydown', this.handleDocumentKeydown);\n    };\n    Dialog.prototype.sync = function (props) {\n        if (this.props.open) {\n            this.open();\n        }\n        else {\n            this.close();\n        }\n    };\n    Dialog.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        return new MDCDialogFoundation({\n            addClass: function (className) { return _this.root.addClass(className); },\n            removeClass: function (className) { return _this.root.removeClass(className); },\n            hasClass: function (className) { return _this.root.hasClass(className); },\n            addBodyClass: function (className) {\n                return document.body && document.body.classList.add(className);\n            },\n            removeBodyClass: function (className) {\n                return document.body && document.body.classList.remove(className);\n            },\n            eventTargetMatches: function (target, selector) {\n                return matches(target, selector);\n            },\n            trapFocus: function () {\n                try {\n                    // we dont always have an item to focus\n                    // so we try catch it\n                    _this.focusTrap && _this.focusTrap.activate();\n                }\n                catch (err) { }\n            },\n            releaseFocus: function () { return _this.focusTrap && _this.focusTrap.deactivate(); },\n            isContentScrollable: function () { return !!_this.content && isScrollable(_this.content); },\n            areButtonsStacked: function () { return areTopsMisaligned(_this.buttons); },\n            getActionFromEvent: function (evt) {\n                var element = closest(evt.target, \"[\" + MDCDialogFoundation.strings.ACTION_ATTRIBUTE + \"]\");\n                return (element &&\n                    element.getAttribute(MDCDialogFoundation.strings.ACTION_ATTRIBUTE));\n            },\n            clickDefaultButton: function () {\n                if (_this.defaultButton) {\n                    _this.defaultButton.click();\n                }\n            },\n            reverseButtons: function () {\n                _this.buttons && _this.buttons.reverse();\n                _this.buttons &&\n                    _this.buttons.forEach(function (button) {\n                        return button.parentElement && button.parentElement.appendChild(button);\n                    });\n            },\n            notifyOpening: function () {\n                _this.emit('onOpen', {});\n                _this.props.onStateChange && _this.props.onStateChange('opening');\n            },\n            notifyOpened: function () {\n                _this.emit('onOpened', {});\n                _this.props.onStateChange && _this.props.onStateChange('opened');\n            },\n            notifyClosing: function (action) {\n                _this.emit('onClose', action ? { action: action } : {});\n                _this.props.onStateChange && _this.props.onStateChange('closing');\n            },\n            notifyClosed: function (action) {\n                _this.emit('onClosed', action ? { action: action } : {});\n                _this.props.onStateChange && _this.props.onStateChange('closed');\n            },\n            getInitialFocusEl: function () {\n                return document.querySelector(\"[\" + MDCDialogFoundation.strings.INITIAL_FOCUS_ATTRIBUTE + \"]\");\n            }\n        });\n    };\n    Dialog.prototype.handleClick = function (evt) {\n        this.props.onClick && this.props.onClick(evt);\n        return this.foundation.handleClick(evt);\n    };\n    Dialog.prototype.handleKeydown = function (evt) {\n        this.props.onKeyDown && this.props.onKeyDown(evt);\n        return this.foundation.handleKeydown(evt);\n    };\n    Dialog.prototype.render = function () {\n        var _a = this.props, children = _a.children, open = _a.open, onOpen = _a.onOpen, onClose = _a.onClose, onStateChange = _a.onStateChange, preventOutsideDismiss = _a.preventOutsideDismiss, rest = __rest(_a, [\"children\", \"open\", \"onOpen\", \"onClose\", \"onStateChange\", \"preventOutsideDismiss\"]);\n        return (React.createElement(DialogRoot, __assign({}, this.root.props(rest), { ref: this.root.setRef, onClick: this.handleClick, onKeyDown: this.handleKeydown }),\n            React.createElement(\"div\", { className: \"mdc-dialog__container\" },\n                React.createElement(\"div\", { className: \"mdc-dialog__surface\" }, children)),\n            React.createElement(DialogScrim, { disableInteraction: preventOutsideDismiss })));\n    };\n    Dialog.displayName = 'Dialog';\n    return Dialog;\n}(FoundationComponent));\nexport { Dialog };\n/** A SimpleDialog component for ease of use. */\nvar SimpleDialog = /** @class */ (function (_super) {\n    __extends(SimpleDialog, _super);\n    function SimpleDialog() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SimpleDialog.prototype.render = function () {\n        var _a = this.props, title = _a.title, header = _a.header, body = _a.body, footer = _a.footer, acceptLabel = _a.acceptLabel, cancelLabel = _a.cancelLabel, children = _a.children, open = _a.open, rest = __rest(_a, [\"title\", \"header\", \"body\", \"footer\", \"acceptLabel\", \"cancelLabel\", \"children\", \"open\"]);\n        return (React.createElement(Dialog, __assign({ open: open }, rest),\n            (!!title || !!header) && (React.createElement(DialogTitle, null,\n                !!title && title,\n                !!header && header)),\n            (!!body || children) && (React.createElement(DialogContent, null,\n                body,\n                children)),\n            (!!cancelLabel || !!acceptLabel || !!footer) && (React.createElement(DialogActions, null,\n                !!footer && footer,\n                !!cancelLabel && (React.createElement(DialogButton, { action: \"close\" }, cancelLabel)),\n                !!acceptLabel && (React.createElement(DialogButton, { action: \"accept\", isDefaultAction: true }, acceptLabel))))));\n    };\n    SimpleDialog.displayName = 'SimpleDialog';\n    SimpleDialog.defaultProps = {\n        title: undefined,\n        header: undefined,\n        body: undefined,\n        footer: undefined,\n        acceptLabel: 'Accept',\n        cancelLabel: 'Cancel',\n        open: false,\n        children: undefined\n    };\n    return SimpleDialog;\n}(React.Component));\nexport { SimpleDialog };\n"]},"metadata":{},"sourceType":"module"}